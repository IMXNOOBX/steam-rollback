/* Third-party software licenses can be found at licenses.txt */
(self.webpackChunksteamui=self.webpackChunksteamui||[]).push([[4601],{29336:e=>{e.exports={strStreamIconCapsuleArtHeight:"90px",strStreamIconScreenshotArtHeight:"90px",bordered_container:"broadcast_embeddable_bordered_container_3cQe7",video_placeholder:"broadcast_embeddable_video_placeholder_3AO8B",embedded_player:"broadcast_embeddable_embedded_player_2Y3Pd",WidePlayer:"broadcast_embeddable_WidePlayer_3DYQa",store_chat_ctn:"broadcast_embeddable_store_chat_ctn_2nZVP",item_drop_ctn:"broadcast_embeddable_item_drop_ctn_1ynmZ",BorderedContainerPromotion:"broadcast_embeddable_BorderedContainerPromotion_6w9mo",bordered_title:"broadcast_embeddable_bordered_title_1X5ll",bordered_subtitle:"broadcast_embeddable_bordered_subtitle_2-kGj",bordered_corner_container:"broadcast_embeddable_bordered_corner_container_38qcY",bordered_corner_expanded:"broadcast_embeddable_bordered_corner_expanded_1f-oL",bordered_corner_shrinked:"broadcast_embeddable_bordered_corner_shrinked__mdbD",broadcast_settings_icon:"broadcast_embeddable_broadcast_settings_icon_2fD_x",container:"broadcast_embeddable_container_2t2rR",viewer_bar:"broadcast_embeddable_viewer_bar_2t4Yv",side_panels:"broadcast_embeddable_side_panels_52TmM",multistream:"broadcast_embeddable_multistream_2ZEx4",wrapper:"broadcast_embeddable_wrapper_1gWJA",NoChat:"broadcast_embeddable_NoChat_12cS_",video_container:"broadcast_embeddable_video_container_10bUz",viewer_links:"broadcast_embeddable_viewer_links_15u7W",chat_link:"broadcast_embeddable_chat_link_2sm6H",settings_link:"broadcast_embeddable_settings_link_1m1Dz",external_link:"broadcast_embeddable_external_link_3mFZG",viewer_count:"broadcast_embeddable_viewer_count_2D9lH",vod_title:"broadcast_embeddable_vod_title_2Rb6f",stream_icon_and_viewer_container:"broadcast_embeddable_stream_icon_and_viewer_container_3yOFf",display_capsule_art:"broadcast_embeddable_display_capsule_art_1jFRs",stream_icon_container:"broadcast_embeddable_stream_icon_container_1wWar",stream_icon_hide_on_hover:"broadcast_embeddable_stream_icon_hide_on_hover_lpU7M",stream_icon_show_on_hover:"broadcast_embeddable_stream_icon_show_on_hover_2y2_x",stream_icon:"broadcast_embeddable_stream_icon_11057",stream_icon_selected:"broadcast_embeddable_stream_icon_selected_2xRVt",scrollingstreams:"broadcast_embeddable_scrollingstreams_1hfOY",stream_icon_arrow:"broadcast_embeddable_stream_icon_arrow_3mivE",clear_div:"broadcast_embeddable_clear_div_1Mwf2",NoSelect:"broadcast_embeddable_NoSelect_I9nF5",broadcast_floating:"broadcast_embeddable_broadcast_floating_3Sg16",PopOutVideoTitleBar:"broadcast_embeddable_PopOutVideoTitleBar_1vT_0",PopOutVideoTitleText:"broadcast_embeddable_PopOutVideoTitleText_27rIe",PopOutVideoCloseButton:"broadcast_embeddable_PopOutVideoCloseButton_W4fRn",BroadcastPlayerContainer:"broadcast_embeddable_BroadcastPlayerContainer_1pDmt",ChatContainer:"broadcast_embeddable_ChatContainer_2X2rQ",BroadcastAndChat:"broadcast_embeddable_BroadcastAndChat_2PrUG",detail_chat_ctn:"broadcast_embeddable_detail_chat_ctn_3yNwz",ChatEntry:"broadcast_embeddable_ChatEntry_p7wUc",Event:"broadcast_embeddable_Event_1YaET",rightPanel:"broadcast_embeddable_rightPanel_2Xp5Y"}},42832:e=>{e.exports={BroadcastChat:"broadcastchat_BroadcastChat_37jsi",ChatEntry:"broadcastchat_ChatEntry_3o0ss",ChatPanel:"broadcastchat_ChatPanel_3RXwS",ChatMessages:"broadcastchat_ChatMessages_VeT2J",EmoticonContainer:"broadcastchat_EmoticonContainer_ikBOk",ChatSend:"broadcastchat_ChatSend_2J8Sc",ChatBox:"broadcastchat_ChatBox_CVXBI",ChatControls:"broadcastchat_ChatControls_3JcMC",MessageChat:"broadcastchat_MessageChat_3WCO8",MessageName:"broadcastchat_MessageName_2moOK",MessageContents:"broadcastchat_MessageContents_3YqUZ",EmoticonsOnly:"broadcastchat_EmoticonsOnly_2hwH8",MessageNotification:"broadcastchat_MessageNotification_3b8gU",MessageError:"broadcastchat_MessageError_2KF5w",minHeightZero:"broadcastchat_minHeightZero_-dYCi",ChatLoginButton:"broadcastchat_ChatLoginButton_1hkDB",RateLimitProgressBarContainer:"broadcastchat_RateLimitProgressBarContainer_3mU3j",RateLimitProgressBar:"broadcastchat_RateLimitProgressBar_2kmUt",TimedProgressBarContainer:"broadcastchat_TimedProgressBarContainer_3_j4r",wrapper:"broadcastchat_wrapper_1UnXS",pie:"broadcastchat_pie_2Om87",spinner:"broadcastchat_spinner_16u04",rota:"broadcastchat_rota_1fHgB",filler:"broadcastchat_filler_1fMzV",fill:"broadcastchat_fill_3shEQ",mask:"broadcastchat_mask_1lxwg",SelectedUserNameCtn:"broadcastchat_SelectedUserNameCtn_1RZru",SelectedUserName:"broadcastchat_SelectedUserName_3OG_P",FlairContainer:"broadcastchat_FlairContainer_14B5k",RoleFlairContainer:"broadcastchat_RoleFlairContainer_G3lqG",Description:"broadcastchat_Description_2fiV5",LogInPrompt:"broadcastchat_LogInPrompt_AJDVh",SignInButton:"broadcastchat_SignInButton_26lxf"}},83926:e=>{e.exports={BroadcastPlayerLite:"broadcastplayer_BroadcastPlayerLite_3YmNP",BroadcastPlayerLiteVideo:"broadcastplayer_BroadcastPlayerLiteVideo_2NLpd",BroadcastContext:"broadcastplayer_BroadcastContext_IlTJG",BroadcastPlaceholderImg:"broadcastplayer_BroadcastPlaceholderImg_3Hcqn"}},49135:e=>{e.exports={StoreSaleWidgetContainer_mini:"broadcastwidgets_StoreSaleWidgetContainer_mini_1Vz-y",Action:"broadcastwidgets_Action_1ZA3F",WishList:"broadcastwidgets_WishList_20tgR",StoreSaleWidgetImage_mini:"broadcastwidgets_StoreSaleWidgetImage_mini_1Ep8o",StoreSaleImage_mini:"broadcastwidgets_StoreSaleImage_mini_26Hh7",StoreSaleWidgetShortDesc_mini:"broadcastwidgets_StoreSaleWidgetShortDesc_mini_DvDV2"}},35496:e=>{e.exports={"duration-app-launch":"800ms",FriendsListInsetShadowCtn:"insetshadow_FriendsListInsetShadowCtn_17ewz",FriendListInsetShadowTop:"insetshadow_FriendListInsetShadowTop_2-sgw",FriendListInsetShadowBottom:"insetshadow_FriendListInsetShadowBottom_2hL6s"}},34092:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BroadcastEmbeddablePopoutHeader:()=>dr,default:()=>ir});var a=r(70655),i=r(9669),s=r.n(i),n=r(29323),o=r(13271),l=r(67294),c=r(22188),d=r(44660),m=r(33384),u=r(22826),h=r(65030),_=r(10708),p=r(98924),b=r(38440),g=r(79571),B=r(33019),S=r(27255);const y=B.Message;class f extends y{constructor(e=null){super(),f.prototype.broadcast_channel_id||S.aR(f.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return f.sm_m||(f.sm_m={proto:f,fields:{broadcast_channel_id:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String}}}),f.sm_m}static MBF(){return f.sm_mbf||(f.sm_mbf=S.Bh(f.M())),f.sm_mbf}toObject(e=!1){return f.toObject(e,this)}static toObject(e,t){return S.TA(f.M(),e,t)}static fromObject(e){return S.aD(f.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new f;return f.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(f.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return f.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(f.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return f.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_CreateBroadcastChannel_Response"}}class v extends y{constructor(e=null){super(),v.prototype.broadcast_channel_id||S.aR(v.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return v.sm_m||(v.sm_m={proto:v,fields:{broadcast_channel_id:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},unique_name:{n:2,br:S.FE.readString,bw:S.Xc.writeString},steamid:{n:3,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String}}}),v.sm_m}static MBF(){return v.sm_mbf||(v.sm_mbf=S.Bh(v.M())),v.sm_mbf}toObject(e=!1){return v.toObject(e,this)}static toObject(e,t){return S.TA(v.M(),e,t)}static fromObject(e){return S.aD(v.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new v;return v.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(v.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return v.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(v.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return v.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelID_Response"}}class C extends y{constructor(e=null){super(),y.initialize(this,e,0,-1,void 0,null)}toObject(e=!1){return C.toObject(e,this)}static toObject(e,t){return e?{$jspbMessageInstance:t}:{}}static fromObject(e){return new C}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new C;return C.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return e}serializeBinary(){var e=new B.BinaryWriter;return C.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){}serializeBase64String(){var e=new B.BinaryWriter;return C.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_SetBroadcastChannelProfile_Response"}}class w extends y{constructor(e=null){super(),w.prototype.unique_name||S.aR(w.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return w.sm_m||(w.sm_m={proto:w,fields:{unique_name:{n:1,br:S.FE.readString,bw:S.Xc.writeString},owner_steamid:{n:2,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},name:{n:3,br:S.FE.readString,bw:S.Xc.writeString},language:{n:4,br:S.FE.readString,bw:S.Xc.writeString},headline:{n:5,br:S.FE.readString,bw:S.Xc.writeString},summary:{n:6,br:S.FE.readString,bw:S.Xc.writeString},schedule:{n:7,br:S.FE.readString,bw:S.Xc.writeString},rules:{n:8,br:S.FE.readString,bw:S.Xc.writeString},panels:{n:9,br:S.FE.readString,bw:S.Xc.writeString},is_partnered:{n:10,br:S.FE.readBool,bw:S.Xc.writeBool}}}),w.sm_m}static MBF(){return w.sm_mbf||(w.sm_mbf=S.Bh(w.M())),w.sm_mbf}toObject(e=!1){return w.toObject(e,this)}static toObject(e,t){return S.TA(w.M(),e,t)}static fromObject(e){return S.aD(w.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new w;return w.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(w.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return w.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(w.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return w.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelProfile_Response"}}class M extends y{constructor(e=null){super(),M.prototype.replace_image_hash||S.aR(M.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return M.sm_m||(M.sm_m={proto:M,fields:{replace_image_hash:{n:1,br:S.FE.readString,bw:S.Xc.writeString}}}),M.sm_m}static MBF(){return M.sm_mbf||(M.sm_mbf=S.Bh(M.M())),M.sm_mbf}toObject(e=!1){return M.toObject(e,this)}static toObject(e,t){return S.TA(M.M(),e,t)}static fromObject(e){return S.aD(M.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new M;return M.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(M.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return M.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(M.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return M.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_SetBroadcastChannelImage_Response"}}class E extends y{constructor(e=null){super(),E.prototype.images||S.aR(E.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return E.sm_m||(E.sm_m={proto:E,fields:{images:{n:1,c:T,r:!0,q:!0}}}),E.sm_m}static MBF(){return E.sm_mbf||(E.sm_mbf=S.Bh(E.M())),E.sm_mbf}toObject(e=!1){return E.toObject(e,this)}static toObject(e,t){return S.TA(E.M(),e,t)}static fromObject(e){return S.aD(E.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new E;return E.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(E.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return E.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(E.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return E.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelImages_Response"}}class T extends y{constructor(e=null){super(),T.prototype.image_type||S.aR(T.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return T.sm_m||(T.sm_m={proto:T,fields:{image_type:{n:1,br:S.FE.readEnum,bw:S.Xc.writeEnum},image_path:{n:2,br:S.FE.readString,bw:S.Xc.writeString},image_index:{n:3,br:S.FE.readUint32,bw:S.Xc.writeUint32}}}),T.sm_m}static MBF(){return T.sm_mbf||(T.sm_mbf=S.Bh(T.M())),T.sm_mbf}toObject(e=!1){return T.toObject(e,this)}static toObject(e,t){return S.TA(T.M(),e,t)}static fromObject(e){return S.aD(T.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new T;return T.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(T.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return T.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(T.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return T.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelImages_Response_Images"}}class F extends y{constructor(e=null){super(),F.prototype.links||S.aR(F.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return F.sm_m||(F.sm_m={proto:F,fields:{links:{n:1,c:R,r:!0,q:!0}}}),F.sm_m}static MBF(){return F.sm_mbf||(F.sm_mbf=S.Bh(F.M())),F.sm_mbf}toObject(e=!1){return F.toObject(e,this)}static toObject(e,t){return S.TA(F.M(),e,t)}static fromObject(e){return S.aD(F.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new F;return F.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(F.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return F.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(F.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return F.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelLinks_Response"}}class R extends y{constructor(e=null){super(),R.prototype.link_index||S.aR(R.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return R.sm_m||(R.sm_m={proto:R,fields:{link_index:{n:1,br:S.FE.readUint32,bw:S.Xc.writeUint32},url:{n:2,br:S.FE.readString,bw:S.Xc.writeString},link_description:{n:3,br:S.FE.readString,bw:S.Xc.writeString},left:{n:4,br:S.FE.readUint32,bw:S.Xc.writeUint32},top:{n:5,br:S.FE.readUint32,bw:S.Xc.writeUint32},width:{n:6,br:S.FE.readUint32,bw:S.Xc.writeUint32},height:{n:7,br:S.FE.readUint32,bw:S.Xc.writeUint32}}}),R.sm_m}static MBF(){return R.sm_mbf||(R.sm_mbf=S.Bh(R.M())),R.sm_mbf}toObject(e=!1){return R.toObject(e,this)}static toObject(e,t){return S.TA(R.M(),e,t)}static fromObject(e){return S.aD(R.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new R;return R.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(R.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return R.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(R.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return R.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelLinks_Response_Links"}}class D extends y{constructor(e=null){super(),y.initialize(this,e,0,-1,void 0,null)}toObject(e=!1){return D.toObject(e,this)}static toObject(e,t){return e?{$jspbMessageInstance:t}:{}}static fromObject(e){return new D}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new D;return D.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return e}serializeBinary(){var e=new B.BinaryWriter;return D.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){}serializeBase64String(){var e=new B.BinaryWriter;return D.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_SetBroadcastChannelLinkRegions_Response"}}class O extends y{constructor(e=null){super(),O.prototype.is_live||S.aR(O.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return O.sm_m||(O.sm_m={proto:O,fields:{is_live:{n:1,br:S.FE.readBool,bw:S.Xc.writeBool},is_disabled:{n:2,br:S.FE.readBool,bw:S.Xc.writeBool},appid:{n:3,br:S.FE.readUint32,bw:S.Xc.writeUint32},viewers:{n:4,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},views:{n:5,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},broadcaster_steamid:{n:6,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},thumbnail_url:{n:7,br:S.FE.readString,bw:S.Xc.writeString},followers:{n:8,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},subscribers:{n:9,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},unique_name:{n:10,br:S.FE.readString,bw:S.Xc.writeString},broadcast_session_id:{n:11,br:S.FE.readUint64String,bw:S.Xc.writeUint64String}}}),O.sm_m}static MBF(){return O.sm_mbf||(O.sm_mbf=S.Bh(O.M())),O.sm_mbf}toObject(e=!1){return O.toObject(e,this)}static toObject(e,t){return S.TA(O.M(),e,t)}static fromObject(e){return S.aD(O.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new O;return O.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(O.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return O.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(O.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return O.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelStatus_Response"}}class I extends y{constructor(e=null){super(),I.prototype.broadcast_channel_id||S.aR(I.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return I.sm_m||(I.sm_m={proto:I,fields:{broadcast_channel_id:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},unique_name:{n:2,br:S.FE.readString,bw:S.Xc.writeString},name:{n:3,br:S.FE.readString,bw:S.Xc.writeString},appid:{n:4,br:S.FE.readUint32,bw:S.Xc.writeUint32},viewers:{n:5,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},views:{n:6,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},thumbnail_url:{n:7,br:S.FE.readString,bw:S.Xc.writeString},followers:{n:8,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},headline:{n:9,br:S.FE.readString,bw:S.Xc.writeString},avatar_url:{n:10,br:S.FE.readString,bw:S.Xc.writeString},broadcaster_steamid:{n:11,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},subscribers:{n:12,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},background_url:{n:13,br:S.FE.readString,bw:S.Xc.writeString},is_featured:{n:14,br:S.FE.readBool,bw:S.Xc.writeBool},is_disabled:{n:15,br:S.FE.readBool,bw:S.Xc.writeBool},is_live:{n:16,br:S.FE.readBool,bw:S.Xc.writeBool},language:{n:17,br:S.FE.readString,bw:S.Xc.writeString},reports:{n:18,br:S.FE.readUint32,bw:S.Xc.writeUint32},is_partnered:{n:19,br:S.FE.readBool,bw:S.Xc.writeBool}}}),I.sm_m}static MBF(){return I.sm_mbf||(I.sm_mbf=S.Bh(I.M())),I.sm_mbf}toObject(e=!1){return I.toObject(e,this)}static toObject(e,t){return S.TA(I.M(),e,t)}static fromObject(e){return S.aD(I.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new I;return I.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(I.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return I.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(I.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return I.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"GetBroadcastChannelEntry"}}class z extends y{constructor(e=null){super(),z.prototype.results||S.aR(z.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return z.sm_m||(z.sm_m={proto:z,fields:{results:{n:1,c:I,r:!0,q:!0}}}),z.sm_m}static MBF(){return z.sm_mbf||(z.sm_mbf=S.Bh(z.M())),z.sm_mbf}toObject(e=!1){return z.toObject(e,this)}static toObject(e,t){return S.TA(z.M(),e,t)}static fromObject(e){return S.aD(z.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new z;return z.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(z.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return z.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(z.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return z.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetFollowedChannels_Response"}}class P extends y{constructor(e=null){super(),P.prototype.results||S.aR(P.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return P.sm_m||(P.sm_m={proto:P,fields:{results:{n:1,c:I,r:!0,q:!0}}}),P.sm_m}static MBF(){return P.sm_mbf||(P.sm_mbf=S.Bh(P.M())),P.sm_mbf}toObject(e=!1){return P.toObject(e,this)}static toObject(e,t){return S.TA(P.M(),e,t)}static fromObject(e){return S.aD(P.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new P;return P.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(P.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return P.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(P.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return P.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetSubscribedChannels_Response"}}class x extends y{constructor(e=null){super(),x.prototype.is_followed||S.aR(x.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return x.sm_m||(x.sm_m={proto:x,fields:{is_followed:{n:1,br:S.FE.readBool,bw:S.Xc.writeBool}}}),x.sm_m}static MBF(){return x.sm_mbf||(x.sm_mbf=S.Bh(x.M())),x.sm_mbf}toObject(e=!1){return x.toObject(e,this)}static toObject(e,t){return S.TA(x.M(),e,t)}static fromObject(e){return S.aD(x.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new x;return x.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(x.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return x.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(x.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return x.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_FollowBroadcastChannel_Response"}}class k extends y{constructor(e=null){super(),k.prototype.is_subscribed||S.aR(k.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return k.sm_m||(k.sm_m={proto:k,fields:{is_subscribed:{n:1,br:S.FE.readBool,bw:S.Xc.writeBool}}}),k.sm_m}static MBF(){return k.sm_mbf||(k.sm_mbf=S.Bh(k.M())),k.sm_mbf}toObject(e=!1){return k.toObject(e,this)}static toObject(e,t){return S.TA(k.M(),e,t)}static fromObject(e){return S.aD(k.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new k;return k.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(k.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return k.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(k.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return k.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_SubscribeBroadcastChannel_Response"}}class W extends y{constructor(e=null){super(),y.initialize(this,e,0,-1,void 0,null)}toObject(e=!1){return W.toObject(e,this)}static toObject(e,t){return e?{$jspbMessageInstance:t}:{}}static fromObject(e){return new W}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new W;return W.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return e}serializeBinary(){var e=new B.BinaryWriter;return W.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){}serializeBase64String(){var e=new B.BinaryWriter;return W.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_ReportBroadcastChannel_Response"}}class N extends y{constructor(e=null){super(),N.prototype.is_followed||S.aR(N.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return N.sm_m||(N.sm_m={proto:N,fields:{is_followed:{n:1,br:S.FE.readBool,bw:S.Xc.writeBool},is_subscribed:{n:2,br:S.FE.readBool,bw:S.Xc.writeBool}}}),N.sm_m}static MBF(){return N.sm_mbf||(N.sm_mbf=S.Bh(N.M())),N.sm_mbf}toObject(e=!1){return N.toObject(e,this)}static toObject(e,t){return S.TA(N.M(),e,t)}static fromObject(e){return S.aD(N.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new N;return N.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(N.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return N.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(N.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return N.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelInteraction_Response"}}class A extends y{constructor(e=null){super(),A.prototype.appid||S.aR(A.M()),y.initialize(this,e,0,-1,[5],null)}static M(){return A.sm_m||(A.sm_m={proto:A,fields:{appid:{n:1,br:S.FE.readUint32,bw:S.Xc.writeUint32},name:{n:2,br:S.FE.readString,bw:S.Xc.writeString},image:{n:3,br:S.FE.readString,bw:S.Xc.writeString},viewers:{n:4,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},channels:{n:5,c:I,r:!0,q:!0},release_date:{n:6,br:S.FE.readString,bw:S.Xc.writeString},developer:{n:7,br:S.FE.readString,bw:S.Xc.writeString},publisher:{n:8,br:S.FE.readString,bw:S.Xc.writeString}}}),A.sm_m}static MBF(){return A.sm_mbf||(A.sm_mbf=S.Bh(A.M())),A.sm_mbf}toObject(e=!1){return A.toObject(e,this)}static toObject(e,t){return S.TA(A.M(),e,t)}static fromObject(e){return S.aD(A.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new A;return A.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(A.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return A.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(A.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return A.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_Game"}}class G extends y{constructor(e=null){super(),G.prototype.results||S.aR(G.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return G.sm_m||(G.sm_m={proto:G,fields:{results:{n:1,c:A,r:!0,q:!0}}}),G.sm_m}static MBF(){return G.sm_mbf||(G.sm_mbf=S.Bh(G.M())),G.sm_mbf}toObject(e=!1){return G.toObject(e,this)}static toObject(e,t){return S.TA(G.M(),e,t)}static fromObject(e){return S.aD(G.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new G;return G.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(G.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return G.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(G.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return G.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetGames_Response"}}class V extends y{constructor(e=null){super(),V.prototype.results||S.aR(V.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return V.sm_m||(V.sm_m={proto:V,fields:{results:{n:1,c:I,r:!0,q:!0}}}),V.sm_m}static MBF(){return V.sm_mbf||(V.sm_mbf=S.Bh(V.M())),V.sm_mbf}toObject(e=!1){return V.toObject(e,this)}static toObject(e,t){return S.TA(V.M(),e,t)}static fromObject(e){return S.aD(V.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new V;return V.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(V.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return V.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(V.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return V.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetChannels_Response"}}class L extends y{constructor(e=null){super(),L.prototype.broadcasters||S.aR(L.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return L.sm_m||(L.sm_m={proto:L,fields:{broadcasters:{n:1,c:U,r:!0,q:!0}}}),L.sm_m}static MBF(){return L.sm_mbf||(L.sm_mbf=S.Bh(L.M())),L.sm_mbf}toObject(e=!1){return L.toObject(e,this)}static toObject(e,t){return S.TA(L.M(),e,t)}static fromObject(e){return S.aD(L.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new L;return L.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(L.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return L.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(L.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return L.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelBroadcasters_Response"}}class U extends y{constructor(e=null){super(),U.prototype.steamid||S.aR(U.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return U.sm_m||(U.sm_m={proto:U,fields:{steamid:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},name:{n:2,br:S.FE.readString,bw:S.Xc.writeString},rtmp_token:{n:3,br:S.FE.readString,bw:S.Xc.writeString}}}),U.sm_m}static MBF(){return U.sm_mbf||(U.sm_mbf=S.Bh(U.M())),U.sm_mbf}toObject(e=!1){return U.toObject(e,this)}static toObject(e,t){return S.TA(U.M(),e,t)}static fromObject(e){return S.aD(U.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new U;return U.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(U.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return U.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(U.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return U.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelBroadcasters_Response_Broadcaster"}}class j extends y{constructor(e=null){super(),j.prototype.issuer_steamid||S.aR(j.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return j.sm_m||(j.sm_m={proto:j,fields:{issuer_steamid:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},chatter_steamid:{n:2,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},time_expires:{n:3,br:S.FE.readString,bw:S.Xc.writeString},permanent:{n:4,br:S.FE.readBool,bw:S.Xc.writeBool},name:{n:5,br:S.FE.readString,bw:S.Xc.writeString}}}),j.sm_m}static MBF(){return j.sm_mbf||(j.sm_mbf=S.Bh(j.M())),j.sm_mbf}toObject(e=!1){return j.toObject(e,this)}static toObject(e,t){return S.TA(j.M(),e,t)}static fromObject(e){return S.aD(j.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new j;return j.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(j.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return j.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(j.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return j.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_ChatBan"}}class X extends y{constructor(e=null){super(),X.prototype.broadcast_channel_id||S.aR(X.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return X.sm_m||(X.sm_m={proto:X,fields:{broadcast_channel_id:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},chatter_steamid:{n:2,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},duration:{n:3,br:S.FE.readUint32,bw:S.Xc.writeUint32},permanent:{n:4,br:S.FE.readBool,bw:S.Xc.writeBool},undo:{n:5,br:S.FE.readBool,bw:S.Xc.writeBool}}}),X.sm_m}static MBF(){return X.sm_mbf||(X.sm_mbf=S.Bh(X.M())),X.sm_mbf}toObject(e=!1){return X.toObject(e,this)}static toObject(e,t){return S.TA(X.M(),e,t)}static fromObject(e){return S.aD(X.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new X;return X.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(X.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return X.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(X.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return X.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_AddChatBan_Request"}}class H extends y{constructor(e=null){super(),y.initialize(this,e,0,-1,void 0,null)}toObject(e=!1){return H.toObject(e,this)}static toObject(e,t){return e?{$jspbMessageInstance:t}:{}}static fromObject(e){return new H}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new H;return H.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return e}serializeBinary(){var e=new B.BinaryWriter;return H.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){}serializeBase64String(){var e=new B.BinaryWriter;return H.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_AddChatBan_Response"}}class q extends y{constructor(e=null){super(),q.prototype.results||S.aR(q.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return q.sm_m||(q.sm_m={proto:q,fields:{results:{n:1,c:j,r:!0,q:!0}}}),q.sm_m}static MBF(){return q.sm_mbf||(q.sm_mbf=S.Bh(q.M())),q.sm_mbf}toObject(e=!1){return q.toObject(e,this)}static toObject(e,t){return S.TA(q.M(),e,t)}static fromObject(e){return S.aD(q.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new q;return q.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(q.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return q.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(q.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return q.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetChatBans_Response"}}class $ extends y{constructor(e=null){super(),y.initialize(this,e,0,-1,void 0,null)}toObject(e=!1){return $.toObject(e,this)}static toObject(e,t){return e?{$jspbMessageInstance:t}:{}}static fromObject(e){return new $}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new $;return $.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return e}serializeBinary(){var e=new B.BinaryWriter;return $.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){}serializeBase64String(){var e=new B.BinaryWriter;return $.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_AddChatModerator_Response"}}class K extends y{constructor(e=null){super(),K.prototype.broadcast_channel_id||S.aR(K.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return K.sm_m||(K.sm_m={proto:K,fields:{broadcast_channel_id:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String}}}),K.sm_m}static MBF(){return K.sm_mbf||(K.sm_mbf=S.Bh(K.M())),K.sm_mbf}toObject(e=!1){return K.toObject(e,this)}static toObject(e,t){return S.TA(K.M(),e,t)}static fromObject(e){return S.aD(K.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new K;return K.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(K.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return K.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(K.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return K.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetChatModerators_Request"}}class Z extends y{constructor(e=null){super(),Z.prototype.steamid||S.aR(Z.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return Z.sm_m||(Z.sm_m={proto:Z,fields:{steamid:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},name:{n:2,br:S.FE.readString,bw:S.Xc.writeString}}}),Z.sm_m}static MBF(){return Z.sm_mbf||(Z.sm_mbf=S.Bh(Z.M())),Z.sm_mbf}toObject(e=!1){return Z.toObject(e,this)}static toObject(e,t){return S.TA(Z.M(),e,t)}static fromObject(e){return S.aD(Z.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new Z;return Z.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(Z.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return Z.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(Z.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return Z.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_ChatModerator"}}class J extends y{constructor(e=null){super(),J.prototype.results||S.aR(J.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return J.sm_m||(J.sm_m={proto:J,fields:{results:{n:1,c:Z,r:!0,q:!0}}}),J.sm_m}static MBF(){return J.sm_mbf||(J.sm_mbf=S.Bh(J.M())),J.sm_mbf}toObject(e=!1){return J.toObject(e,this)}static toObject(e,t){return S.TA(J.M(),e,t)}static fromObject(e){return S.aD(J.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new J;return J.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(J.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return J.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(J.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return J.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetChatModerators_Response"}}class Y extends y{constructor(e=null){super(),y.initialize(this,e,0,-1,void 0,null)}toObject(e=!1){return Y.toObject(e,this)}static toObject(e,t){return e?{$jspbMessageInstance:t}:{}}static fromObject(e){return new Y}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new Y;return Y.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return e}serializeBinary(){var e=new B.BinaryWriter;return Y.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){}serializeBase64String(){var e=new B.BinaryWriter;return Y.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_AddWordBan_Response"}}class Q extends y{constructor(e=null){super(),Q.prototype.results||S.aR(Q.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return Q.sm_m||(Q.sm_m={proto:Q,fields:{results:{n:1,r:!0,q:!0,br:S.FE.readString,bw:S.Xc.writeRepeatedString}}}),Q.sm_m}static MBF(){return Q.sm_mbf||(Q.sm_mbf=S.Bh(Q.M())),Q.sm_mbf}toObject(e=!1){return Q.toObject(e,this)}static toObject(e,t){return S.TA(Q.M(),e,t)}static fromObject(e){return S.aD(Q.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new Q;return Q.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(Q.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return Q.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(Q.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return Q.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetWordBans_Response"}}class ee extends y{constructor(e=null){super(),ee.prototype.broadcast_channel_id||S.aR(ee.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return ee.sm_m||(ee.sm_m={proto:ee,fields:{broadcast_channel_id:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String}}}),ee.sm_m}static MBF(){return ee.sm_mbf||(ee.sm_mbf=S.Bh(ee.M())),ee.sm_mbf}toObject(e=!1){return ee.toObject(e,this)}static toObject(e,t){return S.TA(ee.M(),e,t)}static fromObject(e){return S.aD(ee.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new ee;return ee.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(ee.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return ee.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(ee.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return ee.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_JoinChat_Request"}}class te extends y{constructor(e=null){super(),te.prototype.chat_id||S.aR(te.M()),y.initialize(this,e,0,-1,[3],null)}static M(){return te.sm_m||(te.sm_m={proto:te,fields:{chat_id:{n:1,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},view_url_template:{n:2,br:S.FE.readString,bw:S.Xc.writeString},flair_group_ids:{n:3,r:!0,q:!0,br:S.FE.readUint64String,pbr:S.FE.readPackedUint64String,bw:S.Xc.writeRepeatedUint64String}}}),te.sm_m}static MBF(){return te.sm_mbf||(te.sm_mbf=S.Bh(te.M())),te.sm_mbf}toObject(e=!1){return te.toObject(e,this)}static toObject(e,t){return S.TA(te.M(),e,t)}static fromObject(e){return S.aD(te.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new te;return te.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(te.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return te.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(te.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return te.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_JoinChat_Response"}}class re extends y{constructor(e=null){super(),re.prototype.results||S.aR(re.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return re.sm_m||(re.sm_m={proto:re,fields:{results:{n:1,c:I,r:!0,q:!0}}}),re.sm_m}static MBF(){return re.sm_mbf||(re.sm_mbf=S.Bh(re.M())),re.sm_mbf}toObject(e=!1){return re.toObject(e,this)}static toObject(e,t){return S.TA(re.M(),e,t)}static fromObject(e){return S.aD(re.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new re;return re.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(re.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return re.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(re.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return re.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_Search_Response"}}class ae extends y{constructor(e=null){super(),ae.prototype.stream_live_email||S.aR(ae.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return ae.sm_m||(ae.sm_m={proto:ae,fields:{stream_live_email:{n:1,br:S.FE.readBool,bw:S.Xc.writeBool},stream_live_notification:{n:2,br:S.FE.readBool,bw:S.Xc.writeBool}}}),ae.sm_m}static MBF(){return ae.sm_mbf||(ae.sm_mbf=S.Bh(ae.M())),ae.sm_mbf}toObject(e=!1){return ae.toObject(e,this)}static toObject(e,t){return S.TA(ae.M(),e,t)}static fromObject(e){return S.aD(ae.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new ae;return ae.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(ae.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return ae.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(ae.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return ae.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetSteamTVUserSettings_Response"}}class ie extends y{constructor(e=null){super(),y.initialize(this,e,0,-1,void 0,null)}toObject(e=!1){return ie.toObject(e,this)}static toObject(e,t){return e?{$jspbMessageInstance:t}:{}}static fromObject(e){return new ie}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new ie;return ie.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return e}serializeBinary(){var e=new B.BinaryWriter;return ie.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){}serializeBase64String(){var e=new B.BinaryWriter;return ie.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_SetSteamTVUserSettings_Response"}}class se extends y{constructor(e=null){super(),se.prototype.results||S.aR(se.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return se.sm_m||(se.sm_m={proto:se,fields:{results:{n:1,c:I,r:!0,q:!0}}}),se.sm_m}static MBF(){return se.sm_mbf||(se.sm_mbf=S.Bh(se.M())),se.sm_mbf}toObject(e=!1){return se.toObject(e,this)}static toObject(e,t){return S.TA(se.M(),e,t)}static fromObject(e){return S.aD(se.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new se;return se.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(se.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return se.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(se.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return se.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetMyBroadcastChannels_Response"}}class ne extends y{constructor(e=null){super(),ne.prototype.broadcasts||S.aR(ne.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return ne.sm_m||(ne.sm_m={proto:ne,fields:{broadcasts:{n:1,c:I,r:!0,q:!0}}}),ne.sm_m}static MBF(){return ne.sm_mbf||(ne.sm_mbf=S.Bh(ne.M())),ne.sm_mbf}toObject(e=!1){return ne.toObject(e,this)}static toObject(e,t){return S.TA(ne.M(),e,t)}static fromObject(e){return S.aD(ne.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new ne;return ne.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(ne.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return ne.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(ne.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return ne.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_Takeover"}}class oe extends y{constructor(e=null){super(),oe.prototype.broadcasts||S.aR(oe.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return oe.sm_m||(oe.sm_m={proto:oe,fields:{broadcasts:{n:1,c:I,r:!0,q:!0},appid:{n:2,br:S.FE.readUint32,bw:S.Xc.writeUint32},title:{n:3,br:S.FE.readString,bw:S.Xc.writeString}}}),oe.sm_m}static MBF(){return oe.sm_mbf||(oe.sm_mbf=S.Bh(oe.M())),oe.sm_mbf}toObject(e=!1){return oe.toObject(e,this)}static toObject(e,t){return S.TA(oe.M(),e,t)}static fromObject(e){return S.aD(oe.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new oe;return oe.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(oe.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return oe.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(oe.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return oe.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_SingleGame"}}class le extends y{constructor(e=null){super(),le.prototype.appid||S.aR(le.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return le.sm_m||(le.sm_m={proto:le,fields:{appid:{n:1,br:S.FE.readUint32,bw:S.Xc.writeUint32},game_name:{n:2,br:S.FE.readString,bw:S.Xc.writeString},broadcast:{n:3,c:I}}}),le.sm_m}static MBF(){return le.sm_mbf||(le.sm_mbf=S.Bh(le.M())),le.sm_mbf}toObject(e=!1){return le.toObject(e,this)}static toObject(e,t){return S.TA(le.M(),e,t)}static fromObject(e){return S.aD(le.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new le;return le.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(le.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return le.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(le.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return le.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"GameListEntry"}}class ce extends y{constructor(e=null){super(),ce.prototype.entries||S.aR(ce.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return ce.sm_m||(ce.sm_m={proto:ce,fields:{entries:{n:1,c:le,r:!0,q:!0},title:{n:2,br:S.FE.readString,bw:S.Xc.writeString}}}),ce.sm_m}static MBF(){return ce.sm_mbf||(ce.sm_mbf=S.Bh(ce.M())),ce.sm_mbf}toObject(e=!1){return ce.toObject(e,this)}static toObject(e,t){return S.TA(ce.M(),e,t)}static fromObject(e){return S.aD(ce.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new ce;return ce.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(ce.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return ce.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(ce.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return ce.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_GameList"}}class de extends y{constructor(e=null){super(),de.prototype.broadcasts||S.aR(de.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return de.sm_m||(de.sm_m={proto:de,fields:{broadcasts:{n:1,c:I,r:!0,q:!0},title:{n:2,br:S.FE.readString,bw:S.Xc.writeString}}}),de.sm_m}static MBF(){return de.sm_mbf||(de.sm_mbf=S.Bh(de.M())),de.sm_mbf}toObject(e=!1){return de.toObject(e,this)}static toObject(e,t){return S.TA(de.M(),e,t)}static fromObject(e){return S.aD(de.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new de;return de.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(de.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return de.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(de.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return de.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_QuickExplore"}}class me extends y{constructor(e=null){super(),me.prototype.broadcasts||S.aR(me.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return me.sm_m||(me.sm_m={proto:me,fields:{broadcasts:{n:1,c:I,r:!0,q:!0},title:{n:2,br:S.FE.readString,bw:S.Xc.writeString}}}),me.sm_m}static MBF(){return me.sm_mbf||(me.sm_mbf=S.Bh(me.M())),me.sm_mbf}toObject(e=!1){return me.toObject(e,this)}static toObject(e,t){return S.TA(me.M(),e,t)}static fromObject(e){return S.aD(me.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new me;return me.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(me.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return me.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(me.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return me.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_ConveyorBelt"}}class ue extends y{constructor(e=null){super(),ue.prototype.broadcast||S.aR(ue.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return ue.sm_m||(ue.sm_m={proto:ue,fields:{broadcast:{n:1,c:I},title:{n:2,br:S.FE.readString,bw:S.Xc.writeString},chat_group_id:{n:3,br:S.FE.readUint64String,bw:S.Xc.writeUint64String}}}),ue.sm_m}static MBF(){return ue.sm_mbf||(ue.sm_mbf=S.Bh(ue.M())),ue.sm_mbf}toObject(e=!1){return ue.toObject(e,this)}static toObject(e,t){return S.TA(ue.M(),e,t)}static fromObject(e){return S.aD(ue.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new ue;return ue.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(ue.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return ue.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(ue.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return ue.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_WatchParty"}}class he extends y{constructor(e=null){super(),he.prototype.broadcast||S.aR(he.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return he.sm_m||(he.sm_m={proto:he,fields:{broadcast:{n:1,c:I},title:{n:2,br:S.FE.readString,bw:S.Xc.writeString}}}),he.sm_m}static MBF(){return he.sm_mbf||(he.sm_mbf=S.Bh(he.M())),he.sm_mbf}toObject(e=!1){return he.toObject(e,this)}static toObject(e,t){return S.TA(he.M(),e,t)}static fromObject(e){return S.aD(he.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new he;return he.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(he.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return he.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(he.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return he.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_Developer"}}class _e extends y{constructor(e=null){super(),_e.prototype.title||S.aR(_e.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return _e.sm_m||(_e.sm_m={proto:_e,fields:{title:{n:1,br:S.FE.readString,bw:S.Xc.writeString}}}),_e.sm_m}static MBF(){return _e.sm_mbf||(_e.sm_mbf=S.Bh(_e.M())),_e.sm_mbf}toObject(e=!1){return _e.toObject(e,this)}static toObject(e,t){return S.TA(_e.M(),e,t)}static fromObject(e){return S.aD(_e.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new _e;return _e.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(_e.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return _e.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(_e.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return _e.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageTemplate_Event"}}class pe extends y{constructor(e=null){super(),pe.prototype.template_type||S.aR(pe.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return pe.sm_m||(pe.sm_m={proto:pe,fields:{template_type:{n:1,br:S.FE.readEnum,bw:S.Xc.writeEnum},takeover:{n:2,c:ne},single_game:{n:3,c:oe},game_list:{n:4,c:ce},quick_explore:{n:5,c:de},conveyor_belt:{n:6,c:me},watch_party:{n:7,c:ue},developer:{n:8,c:he},event:{n:9,c:_e}}}),pe.sm_m}static MBF(){return pe.sm_mbf||(pe.sm_mbf=S.Bh(pe.M())),pe.sm_mbf}toObject(e=!1){return pe.toObject(e,this)}static toObject(e,t){return S.TA(pe.M(),e,t)}static fromObject(e){return S.aD(pe.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new pe;return pe.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(pe.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return pe.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(pe.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return pe.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_HomePageContentRow"}}class be extends y{constructor(e=null){super(),be.prototype.rows||S.aR(be.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return be.sm_m||(be.sm_m={proto:be,fields:{rows:{n:1,c:pe,r:!0,q:!0}}}),be.sm_m}static MBF(){return be.sm_mbf||(be.sm_mbf=S.Bh(be.M())),be.sm_mbf}toObject(e=!1){return be.toObject(e,this)}static toObject(e,t){return S.TA(be.M(),e,t)}static fromObject(e){return S.aD(be.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new be;return be.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(be.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return be.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(be.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return be.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetHomePageContents_Response"}}class ge extends y{constructor(e=null){super(),ge.prototype.broadcast_clip_id||S.aR(ge.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return ge.sm_m||(ge.sm_m={proto:ge,fields:{broadcast_clip_id:{n:1,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},channel_id:{n:2,br:S.FE.readUint64String,bw:S.Xc.writeUint64String},app_id:{n:3,br:S.FE.readUint32,bw:S.Xc.writeUint32},broadcaster_steamid:{n:4,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},creator_steamid:{n:5,br:S.FE.readFixed64String,bw:S.Xc.writeFixed64String},video_description:{n:6,br:S.FE.readString,bw:S.Xc.writeString},live_time:{n:7,br:S.FE.readUint32,bw:S.Xc.writeUint32},length_ms:{n:8,br:S.FE.readUint32,bw:S.Xc.writeUint32},thumbnail_path:{n:9,br:S.FE.readString,bw:S.Xc.writeString}}}),ge.sm_m}static MBF(){return ge.sm_mbf||(ge.sm_mbf=S.Bh(ge.M())),ge.sm_mbf}toObject(e=!1){return ge.toObject(e,this)}static toObject(e,t){return S.TA(ge.M(),e,t)}static fromObject(e){return S.aD(ge.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new ge;return ge.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(ge.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return ge.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(ge.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return ge.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_BroadcastClipInfo"}}class Be extends y{constructor(e=null){super(),Be.prototype.clips||S.aR(Be.M()),y.initialize(this,e,0,-1,[1],null)}static M(){return Be.sm_m||(Be.sm_m={proto:Be,fields:{clips:{n:1,c:ge,r:!0,q:!0},thumbnail_host:{n:2,br:S.FE.readString,bw:S.Xc.writeString}}}),Be.sm_m}static MBF(){return Be.sm_mbf||(Be.sm_mbf=S.Bh(Be.M())),Be.sm_mbf}toObject(e=!1){return Be.toObject(e,this)}static toObject(e,t){return S.TA(Be.M(),e,t)}static fromObject(e){return S.aD(Be.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new Be;return Be.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(Be.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return Be.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(Be.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return Be.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_GetBroadcastChannelClips_Response"}}class Se extends y{constructor(e=null){super(),Se.prototype.aggregation_delay_ms||S.aR(Se.M()),y.initialize(this,e,0,-1,void 0,null)}static M(){return Se.sm_m||(Se.sm_m={proto:Se,fields:{aggregation_delay_ms:{n:1,br:S.FE.readUint32,bw:S.Xc.writeUint32}}}),Se.sm_m}static MBF(){return Se.sm_mbf||(Se.sm_mbf=S.Bh(Se.M())),Se.sm_mbf}toObject(e=!1){return Se.toObject(e,this)}static toObject(e,t){return S.TA(Se.M(),e,t)}static fromObject(e){return S.aD(Se.M(),e)}static deserializeBinary(e){let t=new B.BinaryReader(e),r=new Se;return Se.deserializeBinaryFromReader(r,t)}static deserializeBinaryFromReader(e,t){return S.F(Se.MBF(),e,t)}serializeBinary(){var e=new B.BinaryWriter;return Se.serializeBinaryToWriter(this,e),e.getResultBuffer()}static serializeBinaryToWriter(e,t){S.l2(Se.M(),e,t)}serializeBase64String(){var e=new B.BinaryWriter;return Se.serializeBinaryToWriter(this,e),e.getResultBase64String()}getClassName(){return"CSteamTV_AppCheer_Response"}}var ye;!function(e){e.CreateBroadcastChannel=function(e,t){return e.SendMsg("SteamTV.CreateBroadcastChannel#1",t,f,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetBroadcastChannelID=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelID#1",t,v,{bConstMethod:!0,ePrivilege:0})},e.SetBroadcastChannelProfile=function(e,t){return e.SendMsg("SteamTV.SetBroadcastChannelProfile#1",t,C,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetBroadcastChannelProfile=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelProfile#1",t,w,{bConstMethod:!0,ePrivilege:0})},e.SetBroadcastChannelImage=function(e,t){return e.SendMsg("SteamTV.SetBroadcastChannelImage#1",t,M,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetBroadcastChannelImages=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelImages#1",t,E,{bConstMethod:!0,ePrivilege:0})},e.SetBroadcastChannelLinkRegions=function(e,t){return e.SendMsg("SteamTV.SetBroadcastChannelLinkRegions#1",t,D,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetBroadcastChannelLinks=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelLinks#1",t,F,{bConstMethod:!0,ePrivilege:0})},e.GetBroadcastChannelBroadcasters=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelBroadcasters#1",t,L,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetFollowedChannels=function(e,t){return e.SendMsg("SteamTV.GetFollowedChannels#1",t,z,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetSubscribedChannels=function(e,t){return e.SendMsg("SteamTV.GetSubscribedChannels#1",t,P,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetBroadcastChannelStatus=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelStatus#1",t,O,{bConstMethod:!0,ePrivilege:0})},e.FollowBroadcastChannel=function(e,t){return e.SendMsg("SteamTV.FollowBroadcastChannel#1",t,x,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.SubscribeBroadcastChannel=function(e,t){return e.SendMsg("SteamTV.SubscribeBroadcastChannel#1",t,k,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetBroadcastChannelClips=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelClips#1",t,Be,{bConstMethod:!0,ePrivilege:0})},e.ReportBroadcastChannel=function(e,t){return e.SendMsg("SteamTV.ReportBroadcastChannel#1",t,W,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetBroadcastChannelInteraction=function(e,t){return e.SendMsg("SteamTV.GetBroadcastChannelInteraction#1",t,N,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetGames=function(e,t){return e.SendMsg("SteamTV.GetGames#1",t,G,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},e.GetChannels=function(e,t){return e.SendMsg("SteamTV.GetChannels#1",t,V,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},e.AddChatBan=function(e,t){return e.SendMsg("SteamTV.AddChatBan#1",t,H,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetChatBans=function(e,t){return e.SendMsg("SteamTV.GetChatBans#1",t,q,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.AddChatModerator=function(e,t){return e.SendMsg("SteamTV.AddChatModerator#1",t,$,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetChatModerators=function(e,t){return e.SendMsg("SteamTV.GetChatModerators#1",t,J,{bConstMethod:!0,ePrivilege:0})},e.AddWordBan=function(e,t){return e.SendMsg("SteamTV.AddWordBan#1",t,Y,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetWordBans=function(e,t){return e.SendMsg("SteamTV.GetWordBans#1",t,Q,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.JoinChat=function(e,t){return e.SendMsg("SteamTV.JoinChat#1",t,te,{ePrivilege:2,eWebAPIKeyRequirement:1})},e.Search=function(e,t){return e.SendMsg("SteamTV.Search#1",t,re,{bConstMethod:!0,ePrivilege:0})},e.GetSteamTVUserSettings=function(e,t){return e.SendMsg("SteamTV.GetSteamTVUserSettings#1",t,ae,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.SetSteamTVUserSettings=function(e,t){return e.SendMsg("SteamTV.SetSteamTVUserSettings#1",t,ie,{ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetMyBroadcastChannels=function(e,t){return e.SendMsg("SteamTV.GetMyBroadcastChannels#1",t,se,{bConstMethod:!0,ePrivilege:1,eWebAPIKeyRequirement:2})},e.GetHomePageContents=function(e,t){return e.SendMsg("SteamTV.GetHomePageContents#1",t,be,{bConstMethod:!0,ePrivilege:2,eWebAPIKeyRequirement:1})},e.AppCheer=function(e,t){return e.SendMsg("SteamTV.AppCheer#1",t,Se,{ePrivilege:0,eWebAPIKeyRequirement:1})}}(ye||(ye={}));r(75496);var fe=r(93725),ve=r(27194),Ce=r(29786),we=r(78869),Me=r(96794),Ee=(r(91655),r(37322)),Te=r(63709);class Fe{constructor(e){this.m_mapPlayerCache=new Map,this.m_strBannedWords="",this.m_strProfanityWords="",this.m_strCleanWords="",this.m_strBannedPattern="",this.m_strCleanPattern="",this.m_regexBannedWords=null,this.m_regexCleanWords=null,this.m_bShownFilterTip=!1,this.m_TextFilterPreferences=new Me.t$;{let e=new Ee.n8;this.m_TextFilterPreferences.eTextFilterSetting=e.text_filter_setting(),this.m_TextFilterPreferences.bIgnoreFriends=e.text_filter_ignore_friends()}this.m_TextFilterWords=new Ee.No,this.m_DataAccess=e}Init(e=0,t=null,r=null){return(0,a.mG)(this,void 0,void 0,(function*(){this.m_unAccountID=e,this.m_Transport=t,this.m_Storage=r,this.m_strBannedWords="",this.m_strProfanityWords="",this.m_strCleanWords="",yield this.LoadFilter(),yield this.LoadTextFilterPreferences(),yield this.LoadTextFilterWords(),yield this.RequestUpdatedSettings(),yield this.LoadLanguage(we.De.LANGUAGE),"english"!==we.De.LANGUAGE&&(yield this.LoadLanguage("english")),this.OnFilterDataChanged()}))}LoadTextFilterPreferences(){return(0,a.mG)(this,void 0,void 0,(function*(){if(this.m_Storage){let e=yield this.m_Storage.GetObject("CTextFilterStore_TextFilterPreferences");e&&(this.m_TextFilterPreferences=e)}}))}SaveTextFilterPreferences(){this.m_Storage&&this.m_Storage.StoreObject("CTextFilterStore_TextFilterPreferences",this.m_TextFilterPreferences)}LoadTextFilterWords(){return(0,a.mG)(this,void 0,void 0,(function*(){if(this.m_Storage){let e=yield this.m_Storage.GetObject("CTextFilterStore_TextFilterWords");e&&(this.m_TextFilterWords=Ee.No.fromObject(e))}}))}SaveTextFilterWords(){this.m_Storage&&this.m_Storage.StoreObject("CTextFilterStore_TextFilterWords",this.m_TextFilterWords.toObject())}LoadFilter(){return(0,a.mG)(this,void 0,void 0,(function*(){if(this.m_Storage){let e=yield this.m_Storage.GetObject("CTextFilterStore_strBannedPattern"),t=yield this.m_Storage.GetObject("CTextFilterStore_strCleanPattern");null!=e&&null!=t&&this.BRebuildFilter(e,t)}}))}SaveFilter(){this.m_Storage&&(this.m_Storage.StoreObject("CTextFilterStore_strBannedPattern",this.m_strBannedPattern),this.m_Storage.StoreObject("CTextFilterStore_strCleanPattern",this.m_strCleanPattern))}RequestUpdatedSettings(){return(0,a.mG)(this,void 0,void 0,(function*(){let e=new Ee.n8;if(0!==this.m_unAccountID)try{if(this.m_Transport){let t=_.gA.Init(Ee.AP);e=(yield Ee.lk.GetCommunityPreferences(this.m_Transport,t)).Body().preferences()}else{let t={sessionid:we.De.SESSIONID,origin:(0,we.Kc)()};const r=yield s().get(we.De.COMMUNITY_BASE_URL+"textfilter/ajaxgetcommunitypreferences",{params:t,withCredentials:!0});e=Ee.n8.fromObject(r.data.preferences)}}catch(e){}if(this.UpdateCommunityPreferences(e),e.text_filter_words_revision()!==this.m_TextFilterWords.text_filter_words_revision()){let t=new Ee.No;if(0!==e.text_filter_words_revision())try{if(this.m_Transport){let e=_.gA.Init(Ee.Oz);t=(yield Ee.lk.GetTextFilterWords(this.m_Transport,e)).Body().words()}else{let e={sessionid:we.De.SESSIONID,origin:(0,we.Kc)()};const r=yield s().get(we.De.COMMUNITY_BASE_URL+"textfilter/ajaxgettextfiltercustomwords",{params:e,withCredentials:!0});t=Ee.No.fromObject(r.data.words)}}catch(e){}this.UpdateTextFilterWords(t)}}))}UpdateCommunityPreferences(e){let t=!1;e.text_filter_setting()!==this.m_TextFilterPreferences.eTextFilterSetting&&(this.m_TextFilterPreferences.eTextFilterSetting=e.text_filter_setting(),t=!0),e.text_filter_ignore_friends()!==this.m_TextFilterPreferences.bIgnoreFriends&&(this.m_TextFilterPreferences.bIgnoreFriends=e.text_filter_ignore_friends(),t=!0),t&&this.SaveTextFilterPreferences()}get TextFilterPreferences(){return this.m_TextFilterPreferences}UpdateTextFilterWords(e){this.m_TextFilterWords=e,this.SaveTextFilterWords()}LoadLanguage(e){return(0,a.mG)(this,void 0,void 0,(function*(){let t=`${we.De.COMMUNITY_CDN_URL}textfilter/gettextfilterdictionary?type=banned&language=${e}&v=1&origin=${(0,we.Kc)()}`;try{const e=yield s().get(t);this.m_strBannedWords+=e.data}catch(e){console.error("Failed to load filter dictionary "+t,e)}t=`${we.De.COMMUNITY_CDN_URL}textfilter/gettextfilterdictionary?type=profanity&language=${e}&v=1&origin=${(0,we.Kc)()}`;try{const e=yield s().get(t);this.m_strProfanityWords+=e.data}catch(e){console.error("Failed to load filter dictionary "+t,e)}t=`${we.De.COMMUNITY_CDN_URL}textfilter/gettextfilterdictionary?type=clean_public&language=${e}&v=1&origin=${(0,we.Kc)()}`;try{const e=yield s().get(t);this.m_strCleanWords+=e.data}catch(e){console.error("Failed to load filter dictionary "+t,e)}}))}AppendPattern(e,t){return""!==t&&(""!==e&&(e+="|"),e+=t),e}CreatePattern(e){let t=e.filter((function(e){return""!==e}));return t.length>0?"\\b("+t.join("|")+")\\b":""}OnFilterDataChanged(){let e=new RegExp(/\s*[\r\n]+\s*/g),t=[],r=[];switch(this.m_TextFilterPreferences.eTextFilterSetting){case 0:case 3:break;case 2:t=t.concat(this.m_strBannedWords.split(e));break;default:t=t.concat(this.m_strProfanityWords.split(e),this.m_strBannedWords.split(e))}t=t.concat(this.m_TextFilterWords.text_filter_custom_banned_words()),r=this.m_strCleanWords.split(e),r=r.concat(this.m_TextFilterWords.text_filter_custom_clean_words());let a=this.CreatePattern(t),i=this.CreatePattern(r);""!=i&&(i="^("+i+")$"),this.BRebuildFilter(a,i)&&this.SaveFilter()}BRebuildFilter(e,t){if(e===this.m_strBannedPattern&&t===this.m_strCleanPattern)return!1;if(this.m_regexBannedWords=null,""!==e)try{this.m_regexBannedWords=new RegExp(e,"ugi")}catch(e){console.warn("Couldn't compile textfilter bannedwords regex"),(0,Te.Uh)().ReportError(new Error(`Couldn't compile textfilter bannedwords regex: ${e}`))}if(this.m_regexCleanWords=null,""!==t)try{this.m_regexCleanWords=new RegExp(t,"ugi")}catch(e){console.warn("Couldn't compile textfilter cleanwords regex"),(0,Te.Uh)().ReportError(new Error(`Couldn't compile textfilter cleanwords regex: ${e}`))}return this.m_strBannedPattern=e,this.m_strCleanPattern=t,!0}CreateProfanityReplacement(e){return"♥".repeat(e)}BHasFilter(){return null!=this.m_regexBannedWords}BShownFilterTip(){return this.m_bShownFilterTip}SetFilterTipShown(e){this.m_bShownFilterTip=e}FilterText(e,t){if(!this.m_regexBannedWords)return t;let r=0;if("string"==typeof e&&""!==e){r=new g.K(e).GetAccountID()}else"number"==typeof e&&(r=e);return!t||r==this.m_unAccountID||this.m_TextFilterPreferences.bIgnoreFriends&&this.m_DataAccess.BIsFriend(r)?t:t.replace(this.m_regexBannedWords,(e=>this.m_regexCleanWords&&0==e.search(this.m_regexCleanWords)?e:this.CreateProfanityReplacement(e.length)))}}let Re;function De(){if(!Re){const e=new Set;let t={sessionid:we.De.SESSIONID,origin:(0,we.Kc)()};s().get(we.De.COMMUNITY_BASE_URL+"textfilter/ajaxgetfriendslist",{params:t,withCredentials:!0}).then((t=>{for(const r of t.data.friendslist.friends)(0,h.my)(r.efriendrelationship)&&e.add(new g.K(r.ulfriendid).GetAccountID())})),Re=t=>e.has(t)}return Re}(0,a.gn)([c.LO],Fe.prototype,"m_TextFilterPreferences",void 0),(0,a.gn)([c.LO],Fe.prototype,"m_mapPlayerCache",void 0),(0,a.gn)([c.LO],Fe.prototype,"m_regexBannedWords",void 0),(0,a.gn)([c.LO],Fe.prototype,"m_regexCleanWords",void 0),(0,a.gn)([c.aD],Fe.prototype,"UpdateCommunityPreferences",null),(0,a.gn)([c.aD],Fe.prototype,"BRebuildFilter",null);class Oe{constructor(){this.m_mapChats=new Map}GetChat(e,t){return this.m_mapChats.get(e)||this.m_mapChats.get(t)}GetOrCreateChat(e,t){let r=this.GetChat(e,t);return r||(r=new Ie,this.m_mapChats.set(e||t,r)),r}}(0,a.gn)([c.LO],Oe.prototype,"m_mapChats",void 0);class Ie{constructor(){this.m_ulBroadcastChannelID="",this.m_ulChatID="",this.m_strFlairGroupID="",this.m_bAutoScroll=!0,this.m_ulBroadcastID="",this.m_ulBroadcastSteamID="",this.m_tsFirstRequest=null,this.m_nFromFirstRequestMS=0,this.m_nNextChatTS=0,this.m_cConsecutiveErrors=0,this.m_nNudgeFactorMS=0,this.m_nLastSleepMS=0,this.m_bReconnecting=!1,this.m_unInstanceID=Math.floor(4294967296*Math.random()),this.m_strUserSteamID="",this.m_regexUserEmoticons=null,this.m_chatScheduledFunc=null,this.m_webAPIInterface=null,this.m_textFilterStore=null,this.m_bHasAddedWelcomeChat=!1,this.m_mapMutedUsers={},this.m_mapChannelModeratorUsers=new Map,this.m_mapBroadcastModeratorUsers=new Map,this.m_nRateLimitSeconds=0,this.m_bRateLimited=!1,this.m_rgChatMessages=[],this.m_webAPIInterface=new b.J(we.De.WEBAPI_BASE_URL,we.L7.webapi_token)}InitTextFilter(){this.m_textFilterStore=new Fe({BIsFriend:De()});let e=0;if(""!==we.L7.steamid){e=new g.K(we.L7.steamid).GetAccountID()}this.m_textFilterStore.Init(e,null,new p.Z)}get TextFilterStore(){return this.m_textFilterStore}GetBroadcastSteamID(){return this.m_ulBroadcastSteamID}GetUserSteamID(){return this.m_strUserSteamID}StartForSteamID(e,t){this.m_webAPIInterface=new b.J(we.De.WEBAPI_BASE_URL,we.L7.webapi_token),this.m_ulBroadcastSteamID=e,this.m_ulBroadcastID=t,this.InitTextFilter(),this.RequestChatInfo()}StartForChannel(e){this.m_webAPIInterface=new b.J(we.De.WEBAPI_BASE_URL,we.L7.webapi_token),this.m_ulBroadcastChannelID=e,this.m_strUserSteamID=we.L7.steamid,this.InitTextFilter(),this.JoinChannelChat()}Stop(){this.m_chatScheduledFunc&&this.m_chatScheduledFunc.Cancel()}SendMessage(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=e.trim();if(0!=t.length)try{let e,r,a;if(this.m_webApiToken){const e=new FormData;e.append("chat_id",this.m_ulChatID),e.append("message",t),e.append("instance_id",this.m_unInstanceID.toString()),r=yield s().post(`${we.De.WEBAPI_BASE_URL}IBroadcastService/PostChatMessage/v0001?access_token=${this.m_webApiToken}`,e),a=r.data&&r.data.response}else{const r=_.gA.Init(m.Q3);r.SetBodyFields({chat_id:this.m_ulChatID,message:t,instance_id:this.m_unInstanceID.toString()}),e=yield m.Mr.PostChatMessage(this.m_webAPIInterface.GetServiceTransport(),r),a={result:e.GetEResult(),cooldown_time_seconds:e.Body().cooldown_time_seconds(),in_game:e.Body().in_game(),persona_name:e.Body().persona_name()}}if(a&&a.result&&1!=a.result){let e="";return e=17==a.result?(0,ve.Xx)("#BroadcastChat_YouMuted"):84==a.result?(0,ve.Xx)("#BroadcastChat_Cooldown",a.cooldown_time_seconds):(0,ve.Xx)("#BroadcastChat_FailedToSendMsg",t),void this.m_rgChatMessages.push({type:u.gK.Error,msg:e,client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:a.in_game,persona_name:a.persona_name,steamid:""})}this.m_nRateLimitSeconds||(this.m_nRateLimitSeconds=a.cooldown_time_seconds),this.m_nRateLimitSeconds&&(this.m_bRateLimited=!0,setTimeout((()=>this.m_bRateLimited=!1),1e3*this.m_nRateLimitSeconds))}catch(e){this.m_rgChatMessages.push({type:u.gK.Error,msg:(0,ve.Xx)("#BroadcastChat_FailedToSendMsg",t),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""})}}))}RequestChatInfo(e){return(0,a.mG)(this,void 0,void 0,(function*(){this.m_cConsecutiveErrors=0,this.m_bReconnecting=!1;try{const t={steamid:this.m_ulBroadcastSteamID,broadcastid:this.m_ulBroadcastID,sessionid:we.De.SESSIONID},r=yield s().get(`${we.De.CHAT_BASE_URL}broadcast/getchatinfo`,{params:t,withCredentials:!0,cancelToken:null==e?void 0:e.token});e&&e.token.reason||(0,c.z)((()=>{const e=r.data;this.m_strChatURL=e.view_url_template,this.m_ulChatID=e.chat_id,this.m_strFlairGroupID=e.flair_group_ids&&e.flair_group_ids[0],e.blocked&&console.log("User is blocked from chat"),e.steamid&&(this.m_strUserSteamID=e.steamid),e.token&&(this.m_webApiToken=e.token),e.emoticons&&this.SetOwnedEmoticons(e.emoticons),this.m_bHasAddedWelcomeChat||(this.m_rgChatMessages.push({type:u.gK.Notification,msg:(0,ve.Xx)("#BroadcastChat_DefaultMessage"),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""}),this.m_bHasAddedWelcomeChat=!0),this.m_mapBroadcastModeratorUsers.clear(),e.moderators_steamid&&e.moderators_steamid.forEach((e=>this.m_mapBroadcastModeratorUsers.set(e,!0))),this.m_chatScheduledFunc=new fe.Ar,this.m_chatScheduledFunc.Schedule(0,this.RequestLoop)}))}catch(e){console.error(e),console.log("Failed to get chat info!")}}))}JoinChannelChat(){return(0,a.mG)(this,void 0,void 0,(function*(){try{const e=_.gA.Init(ee);e.SetBodyFields({broadcast_channel_id:this.m_ulBroadcastChannelID});let t=yield ye.JoinChat(this.m_webAPIInterface.GetServiceTransport(),e);if(!t.Body().chat_id||!t.Body().view_url_template)return void console.log("Failed to join channel chat");this.m_strChatURL=t.Body().view_url_template(),this.m_ulChatID=t.Body().chat_id(),this.m_strFlairGroupID=t.Body().flair_group_ids()&&t.Body().flair_group_ids()[0],this.FetchChatModerators(),this.m_rgChatMessages=[],this.m_rgChatMessages.push({type:u.gK.Notification,msg:(0,ve.Xx)("#BroadcastChat_DefaultMessage"),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""}),this.m_bHasAddedWelcomeChat=!0,this.m_chatScheduledFunc=new fe.Ar,this.m_chatScheduledFunc.Schedule(0,this.RequestLoop)}catch(e){console.error(e),console.log("Failed to join chat!")}}))}FetchChatModerators(){return(0,a.mG)(this,void 0,void 0,(function*(){const e=_.gA.Init(K);e.SetBodyFields({broadcast_channel_id:this.m_ulBroadcastChannelID});const t=(yield ye.GetChatModerators(this.m_webAPIInterface.GetServiceTransport(),e)).Body().results(),r=new Map;t.forEach((e=>{r.set(e.steamid(),!0)})),this.m_mapChannelModeratorUsers=r}))}RequestLoop(){return(0,a.mG)(this,void 0,void 0,(function*(){const e={},t=this.m_strChatURL.replace("{0}",this.m_nNextChatTS.toString());t==this.m_strChatURL&&this.m_nNextChatTS>0&&(e.t=this.m_nNextChatTS);try{const r=(yield s().get(t,{params:e})).data;this.m_cConsecutiveErrors=0;const a=r.messages.map((e=>Object.assign(Object.assign({},e),{type:u.gK.Chat,client_ts:Number(new Date)}))).filter((e=>!this.IsUserMutedLocally(e.steamid)));this.m_rgChatMessages.push(...a);const i=this.m_bAutoScroll?150:300;if(this.m_rgChatMessages.length>i&&this.m_rgChatMessages.splice(0,this.m_rgChatMessages.length-i),r.muted)for(const e of r.muted){const t=e.muted==this.m_strUserSteamID?(0,ve.Xx)("#BroadcastChat_YouMuted",e.persona_name):(0,ve.Xx)("#BroadcastChat_UserMuted",e.persona_name);this.m_rgChatMessages.push({type:u.gK.Notification,msg:t,client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""})}if(r.remove_msgs)for(const e of r.remove_msgs)this.RemoveUserMessagesLocal(e.steamid);let n=0;if(null==this.m_tsFirstRequest||0==this.m_nNextChatTS||r.initial_delay){if("undefined"===r.initial_delay)return void console.log("Need initial_delay to know when to request first chat message");this.m_tsFirstRequest=performance.now()+r.initial_delay,this.m_nFromFirstRequestMS=0,this.m_nNextChatTS=r.next_request,n=r.initial_delay}else{if(r.next_request<this.m_nNextChatTS)return void console.log("Next request in past");this.m_nFromFirstRequestMS+=r.next_request-this.m_nNextChatTS,this.m_nNextChatTS=r.next_request,n=this.m_tsFirstRequest+this.m_nFromFirstRequestMS-performance.now()+this.m_nNudgeFactorMS}this.m_bReconnecting&&(this.m_bReconnecting=!1),this.m_nLastSleepMS=n,n<0&&(n=0),this.m_chatScheduledFunc.Schedule(n,this.RequestLoop)}catch(e){if(console.log("Failed to get chat messages. Previous sleep set to: "+this.m_nLastSleepMS+" firstReq: "+this.m_tsFirstRequest+" firstFromRequest: "+this.m_nFromFirstRequestMS+" nudge: "+this.m_nNudgeFactorMS),this.m_cConsecutiveErrors++,this.m_nNudgeFactorMS+=10,this.m_cConsecutiveErrors>=4){if(null==this.m_tsFirstRequest)return void this.m_rgChatMessages.push({type:u.gK.Error,msg:(0,ve.Xx)("#BroadcastChat_UnableToJoinChat"),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""});this.m_cConsecutiveErrors=0,this.m_bReconnecting=!0,this.SyncChat()}this.m_chatScheduledFunc.Schedule(500,this.RequestLoop)}}))}GetUserEmoticons(){return this.m_regexUserEmoticons}SetOwnedEmoticons(e){let t=[];for(let r=0;r<e.length;r++){let a=e[r];a.length>=2&&":"==a[0]?t.push(a.substr(1,a.length-2)):t.push(a)}let r=":("+t.join("|")+"):";this.m_regexUserEmoticons=new RegExp(r,"g")}UpdateBroadcastChatModerator(e,t,r){return(0,a.mG)(this,void 0,void 0,(function*(){{const a=new FormData;a.append("broadcaststeamid",this.m_ulBroadcastSteamID),a.append("moderatorsteamid",e),a.append("bAdd",t?"1":"0"),a.append("sessionid",we.De.SESSIONID);try{yield s().post(`${we.De.CHAT_BASE_URL}broadcast/ajaxupdatechannelmod`,a),this.m_mapBroadcastModeratorUsers.set(e,t);const i=(0,ve.Xx)(t?"#BroadcastChat_AddedModerator":"#BroadcastChat_RemovedModerator",r);this.m_rgChatMessages.push({type:u.gK.Notification,msg:i})}catch(e){const a=(0,ve.Xx)(t?"#BroadcastChat_AddModeratorFailed":"#BroadcastChat_RemoveModeratorFailed",r);this.m_rgChatMessages.push({type:u.gK.Error,msg:a})}}}))}UpdateUserChatBan(e,t,r,i,n,o){return(0,a.mG)(this,void 0,void 0,(function*(){const a=this.m_ulBroadcastSteamID,l=this.m_strUserSteamID;if(this.m_ulBroadcastChannelID){const t=_.gA.Init(X);t.SetBodyFields({broadcast_channel_id:this.m_ulBroadcastChannelID,chatter_steamid:e,duration:3600*r,permanent:i,undo:o}),yield ye.AddChatBan(this.m_webAPIInterface.GetServiceTransport(),t)}else{const o=new FormData;o.append("broadcaststeamid",a),o.append("issuersteamid",l),o.append("chattersteamid",e),o.append("bantype",t),o.append("duration",r.toString()),o.append("perm",i?"1":"0"),o.append("sessionid",we.De.SESSIONID);try{yield s().post(`${we.De.CHAT_BASE_URL}broadcast/ajaxupdateusermute`,o),0==t?delete this.m_mapMutedUsers[e]:this.m_mapMutedUsers[e]=n}catch(e){console.log("Failed to update mute for "+n)}}}))}MuteUserForSession(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){if(e==this.m_strUserSteamID)return;if(this.m_ulBroadcastSteamID==e)return;let r=this.m_ulBroadcastSteamID==this.m_strUserSteamID;if(!this.m_mapMutedUsers[e]){this.m_mapMutedUsers[e]=t;try{if(this.m_webApiToken){const t=new FormData;t.append("chat_id",this.m_ulChatID),t.append("user_steamid",e),t.append("muted","1"),yield s().post(`${we.De.WEBAPI_BASE_URL}IBroadcastService/MuteBroadcastChatUser/v0001/?access_token=${this.m_webApiToken}`,t)}else{const t=_.gA.Init(m.$m);t.SetBodyFields({chat_id:this.m_ulChatID,user_steamid:e,muted:!0}),yield m.Mr.MuteBroadcastChatUser(this.m_webAPIInterface.GetServiceTransport(),t)}}catch(a){r&&(this.m_rgChatMessages.push({type:u.gK.Error,msg:(0,ve.Xx)("#BroadcastChat_UserMuteFailed",t),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""}),delete this.m_mapMutedUsers[e])}}r||this.m_rgChatMessages.push({type:u.gK.Notification,msg:(0,ve.Xx)("#BroadcastChat_UserMutedLocal",t),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""})}))}UnmuteUserForSession(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){if(e==this.m_strUserSteamID)return;if(this.m_mapMutedUsers[e]&&delete this.m_mapMutedUsers[e],this.m_ulBroadcastSteamID==this.m_strUserSteamID)try{if(this.m_webApiToken){const t=new FormData;t.append("chat_id",this.m_ulChatID),t.append("user_steamid",e),t.append("muted","0"),yield s().post(`${we.De.WEBAPI_BASE_URL}IBroadcastService/MuteBroadcastChatUser/v0001/?access_token=${this.m_webApiToken}`,t)}else{const t=_.gA.Init(m.$m);t.SetBodyFields({chat_id:this.m_ulChatID,user_steamid:e,muted:!1}),yield m.Mr.MuteBroadcastChatUser(this.m_webAPIInterface.GetServiceTransport(),t)}this.m_rgChatMessages.push({type:u.gK.Notification,msg:(0,ve.Xx)("#BroadcastChat_UserUnmutedLocal",t),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""})}catch(e){this.m_rgChatMessages.push({type:u.gK.Error,msg:(0,ve.Xx)("#BroadcastChat_UserUnmuteFailed",t),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""})}else this.m_rgChatMessages.push({type:u.gK.Notification,msg:(0,ve.Xx)("#BroadcastChat_UserUnmutedLocal",t),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""})}))}RemoveUserMessagesLocal(e){this.m_rgChatMessages=this.m_rgChatMessages.filter((t=>t.steamid!==e))}RemoveUserMessagesServer(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){if(e!=this.m_strUserSteamID)try{if(this.m_webApiToken){const t=new FormData;t.append("chat_id",this.m_ulChatID),t.append("user_steamid",e),yield s().post(`${we.De.WEBAPI_BASE_URL}IBroadcastService/RemoveUserChatText/v0001/?access_token=${this.m_webApiToken}`,t)}else{const t=_.gA.Init(m.mn);t.SetBodyFields({chat_id:this.m_ulChatID,user_steamid:e}),yield m.Mr.RemoveUserChatText(this.m_webAPIInterface.GetServiceTransport(),t)}}catch(e){this.m_rgChatMessages.push({type:u.gK.Error,msg:(0,ve.Xx)("#BroadcastChat_RemoveMessagesFailed",t),client_ts:Number(new Date),instance_id:this.m_unInstanceID,in_game:!1,persona_name:"",steamid:""})}}))}UpdateChatMessageFlair(e){return(0,a.mG)(this,void 0,void 0,(function*(){if(this.m_webApiToken){const t=new FormData;t.append("chat_id",this.m_ulChatID),t.append("flair",`^${this.m_strFlairGroupID}^:${e}:`),yield s().post(`${we.De.WEBAPI_BASE_URL}IBroadcastService/UpdateChatMessageFlair/v0001/?access_token=${this.m_webApiToken}`,t)}else{const t=_.gA.Init(m.kY);t.SetBodyFields({chat_id:this.m_ulChatID,flair:`^${this.m_strFlairGroupID}^:${e}:`}),yield m.Mr.UpdateChatMessageFlair(this.m_webAPIInterface.GetServiceTransport(),t)}}))}IsUserMutedLocally(e){return Boolean(this.m_mapMutedUsers[e])}BIsUserBroadcastModerator(e){return this.m_mapBroadcastModeratorUsers.has(e)}IsUserBroadcaster(e){return e===this.m_ulBroadcastSteamID}SyncChat(){this.m_tsFirstRequest=null,this.m_nFromFirstRequestMS=0,this.m_nNextChatTS=0,this.m_rgChatMessages=[]}}(0,a.gn)([c.LO],Ie.prototype,"m_mapChannelModeratorUsers",void 0),(0,a.gn)([c.LO],Ie.prototype,"m_mapBroadcastModeratorUsers",void 0),(0,a.gn)([c.LO],Ie.prototype,"m_nRateLimitSeconds",void 0),(0,a.gn)([c.LO],Ie.prototype,"m_bRateLimited",void 0),(0,a.gn)([c.LO],Ie.prototype,"m_rgChatMessages",void 0),(0,a.gn)([Ce.a],Ie.prototype,"FetchChatModerators",null),(0,a.gn)([Ce.a],Ie.prototype,"RequestLoop",null),(0,a.gn)([Ce.a],Ie.prototype,"MuteUserForSession",null);const ze=new Oe;window.g_BroadcastChatStore=ze;r(874),r(93300);var Pe=r(48062),xe=r(86037);class ke{constructor(){this.m_mapBroadcasterSteamIDToEvents=new Map,this.m_mapBroadcasterSteamIDData=new Map}static GetBBCodeParam(e,t,r=""){const a=new RegExp(`\\W${t}\\W*=\\W*\\"(.*?)\\"`,"gmi").exec(e);return a?a[1]:r}static ParseCalendarEventPresentersFromText(e){const t=/\[\W*speaker(\W[\s\S]*?)\]([\s\S]*?)\[\W*\/speaker\W*\]/gi,r=new Array;for(;;){const a=t.exec(e);if(null===a)break;const i=a[1],s=a[2],n=ke.GetBBCodeParam(i,"steamid"),o={steamID:n?new g.K(n):void 0,name:ke.GetBBCodeParam(i,"name"),title:ke.GetBBCodeParam(i,"title"),company:ke.GetBBCodeParam(i,"company"),photo:ke.GetBBCodeParam(i,"photo"),bio:s};r.push(o)}return r}static ParseEventModelPresenters(e,t){const r=e.GetDescriptionWithFallback(t);return ke.ParseCalendarEventPresentersFromText(r)}static ParseEventAppReferencesFromText(e){const t=/\/\/store\.steampowered\.com\/app\/(\d+)/gi,r=new Set;for(;;){const a=t.exec(e);if(null===a)break;const i=a[1];r.add(Number(i))}return r}static ParseEventModelAppReferences(e,t){var r;const a=e.GetDescriptionWithFallback(t),i=ke.ParseEventAppReferencesFromText(a);if(null===(r=e.jsondata)||void 0===r?void 0:r.referenced_appids)for(const t of e.jsondata.referenced_appids)i.add(t);return i}BuildBroadcasterSteamIDToActiveEventMap(e){return(0,a.mG)(this,void 0,void 0,(function*(){const t=Pe.JW.GetTimeNowWithOverride(),r=e.GetCalendarItemsInTimeRange(t-3600,t);for(const e of r.rgCalendarItems)xe.j1.QueueLoadPartnerEvent(e.clanid,e.unique_id);const a=r.rgCalendarItems.map((e=>xe.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(g.K.InitFromClanID(e.clanid),e.unique_id,0))),i=yield Promise.all(a),s=new Map;for(const e of i)if(e&&!(e.endTime&&e.endTime<t))for(const t of e.GetBroadcastWhitelistAsSteamIDs())s.has(t)?s.get(t).push(e):s.set(t,[e]);return s}))}IsBroadcasterAlreadyBound(e,t){const r=this.m_mapBroadcasterSteamIDToEvents.get(e),a=r?r.length:0;if((t?t.length:0)!=a)return!1;for(let e=0;e<a;e++)if(r[e]!=t[e].GID)return!1;return!0}static BuildSteamIDToPresenterMapFromEventList(e,t){let r=new Map;for(const a of e){if(!a)continue;const e=ke.ParseEventModelPresenters(a,t);for(const t of e)t.steamID&&r.set(t.steamID.ConvertTo64BitString(),t)}return r}RemoveCachedDataIfNotInMap(e){const t=new Array;this.m_mapBroadcasterSteamIDToEvents.forEach(((r,a)=>{e.has(a)||t.push(a)})),t.forEach((e=>{this.m_mapBroadcasterSteamIDData.delete(e),this.m_mapBroadcasterSteamIDToEvents.delete(e)}))}static BuildAppIDRefsForEventList(e,t){const r=new Set;for(const a of e){ke.ParseEventModelAppReferences(a,t).forEach((e=>r.add(e)))}return Array.from(r)}UpdateCachedDataFromEvents(e,t){e.forEach(((e,r)=>{if(this.IsBroadcasterAlreadyBound(r,e))return;const a={m_mapPresenters:ke.BuildSteamIDToPresenterMapFromEventList(e,t),m_rgAppIDs:ke.BuildAppIDRefsForEventList(e,t)};this.m_mapBroadcasterSteamIDData.set(r,a),this.m_mapBroadcasterSteamIDToEvents.set(r,e.map((e=>e.GID)))}))}SynchronizeEventsWithBroadcasts(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const r=yield this.BuildBroadcasterSteamIDToActiveEventMap(e);this.RemoveCachedDataIfNotInMap(r),this.UpdateCachedDataFromEvents(r,t)}))}GetPresenterMapForBroadcasterSteamID(e){var t;return null===(t=this.m_mapBroadcasterSteamIDData.get(e))||void 0===t?void 0:t.m_mapPresenters}GetAppIDListForBroadcasterSteamID(e){var t;return null===(t=this.m_mapBroadcasterSteamIDData.get(e))||void 0===t?void 0:t.m_rgAppIDs}}(0,a.gn)([c.LO],ke.prototype,"m_mapBroadcasterSteamIDData",void 0);const We=new ke;r(54773);var Ne=r(65381),Ae=r(40499),Ge=r.n(Ae),Ve=r(75818),Le=r(94115),Ue=r(31553),je=r(24616),Xe=r(39895),He=r(36414),qe=r(35496),$e=r.n(qe);const Ke=()=>l.createElement("div",{className:$e().FriendsListInsetShadowCtn},l.createElement("div",{className:$e().FriendListInsetShadowTop})),Ze=()=>l.createElement("div",{className:$e().FriendsListInsetShadowCtn},l.createElement("div",{className:$e().FriendListInsetShadowBottom}));var Je=r(7952),Ye=r(45520),Qe=r(31535),et=r(42832),tt=r.n(et);const rt=new RegExp("ː([^ː]*)ː","g"),at=new RegExp("^https?://(?:[^/?#]+?\\.)?(?:valvesoftware|steamcommunity|steampowered)\\.com(?:/?#|$)","i");const it=e=>{const{userType:t,msg:r,presenterInfo:a}=e;if("presenter"===t)return l.createElement("span",null,l.createElement(He.pj,{name:a.name,title:a.title,photo:a.photo,company:a.company,bioString:a.bio},l.createElement("a",{className:(0,Ye.Z)(tt().MessageName,tt().MessagePresenter),href:we.De.COMMUNITY_BASE_URL+"profiles/"+r.steamid,target:"_blank",rel:"noopener noreferrer"},r.persona_name)));{let e=null;return"broadcaster"===t?e=tt().MessageBroadcaster:"moderator"===t&&(e=tt().MessageModerator),l.createElement("span",null,l.createElement("a",{className:(0,Ye.Z)(tt().MessageName,e),href:we.De.COMMUNITY_BASE_URL+"profiles/"+r.steamid,"data-miniprofile":"s"+r.steamid,target:"_blank",rel:"noopener noreferrer"},r.persona_name))}},st=e=>{switch(e.userType){case"presenter":return l.createElement("span",{className:tt().RoleFlairContainer,"data-tooltip-text":(0,ve.Xx)("#BroadcastChat_Role_Presenter_ttip")},l.createElement(Je.x0L,null));case"moderator":return l.createElement("span",{className:tt().RoleFlairContainer,"data-tooltip-text":(0,ve.Xx)("#BroadcastChat_Role_Moderatorr_ttip")},l.createElement(Je.yTr,null));case"broadcaster":return l.createElement("span",{className:tt().RoleFlairContainer,"data-tooltip-text":(0,ve.Xx)("#BroadcastChat_Role_Broadcaster_ttip")},l.createElement(Je.miF,null));default:return null}};let nt=class extends l.Component{constructor(){super(...arguments),this.m_chat=null,this.messagesContainer=l.createRef()}componentDidMount(){this.StartChat()}componentDidUpdate(e){this.m_chat&&this.m_chat.m_bAutoScroll&&this.ScrollToNewestMessages(),this.props.steamID===e.steamID&&this.props.broadcastID===e.broadcastID&&this.props.broadcastChannelID===e.broadcastChannelID||this.StartChat()}componentWillUnmount(){this.m_chat&&this.m_chat.Stop()}StartChat(){if(this.m_chat&&this.m_chat.Stop(),this.m_chat=ze.GetOrCreateChat(this.props.broadcastChannelID,this.props.steamID),this.props.broadcastChannelID)this.m_chat.StartForChannel(this.props.broadcastChannelID);else if(this.props.steamID&&this.props.steamID&&(this.props.broadcastID||this.props.globalChat)){let e=this.props.broadcastID||"0";this.m_chat.StartForSteamID(this.props.steamID,e),this.ScrollToNewestMessages()}}IsTrustedDomain(e){return!!e.match(at)}AddLinksEmoticons(e,t){let r=rt;t&&(r=this.m_chat.GetUserEmoticons());let a=e.split(rt);const i=[];for(let e=0;e<a.length;e+=1)e%2==1?i.push(l.createElement(Ue.tk,{emoticonHoverStore:Ne.$,key:e,emoticon:a[e],large:!0})):i.push(a[e]);return i}HandleScroll(e){const t=this.props.bInvertLayout?e.currentTarget.scrollTop<6:e.currentTarget.scrollTop+e.currentTarget.clientHeight>=e.currentTarget.scrollHeight-6;this.m_chat&&(this.m_chat.m_bAutoScroll=t)}ScrollToNewestMessages(){this.messagesContainer&&this.messagesContainer.current&&(this.messagesContainer.current.scrollTop=this.props.bInvertLayout?0:this.messagesContainer.current.scrollHeight)}OnContextMenu(e,t){if(t.type!==u.gK.Chat)return null;const r=[],a=this.m_chat.IsUserBroadcaster(this.m_chat.GetUserSteamID()),i=this.m_chat.BIsUserBroadcastModerator(this.m_chat.GetUserSteamID());if(we.L7&&we.L7.is_support||a||i?r.push(l.createElement(Ve.Zo,{key:"remove",onSelected:()=>this.m_chat.RemoveUserMessagesServer(t.steamid,t.persona_name)},(0,ve.Xx)("#BroadcastChat_RemoveMessages")),l.createElement(Ve.Zo,{key:"updatebanh",onSelected:()=>this.m_chat.UpdateUserChatBan(t.steamid,1,12,!1,t.persona_name)},(0,ve.Xx)("#BroadcastChat_half_Mute")),l.createElement(Ve.Zo,{key:"updateband",onSelected:()=>this.m_chat.UpdateUserChatBan(t.steamid,1,24,!1,t.persona_name)},(0,ve.Xx)("#BroadcastChat_day_Mute")),l.createElement(Ve.Zo,{key:"updatebanw",onSelected:()=>this.m_chat.UpdateUserChatBan(t.steamid,1,168,!1,t.persona_name)},(0,ve.Xx)("#BroadcastChat_week_Mute")),l.createElement(Ve.Zo,{key:"updatebanp",onSelected:()=>this.m_chat.UpdateUserChatBan(t.steamid,1,0,!0,t.persona_name)},(0,ve.Xx)("#BroadcastChat_perm_Mute")),l.createElement(Ve.Zo,{key:"removeban",onSelected:()=>this.m_chat.UpdateUserChatBan(t.steamid,0,0,!1,t.persona_name,!0)},(0,ve.Xx)("#BroadcastChat_Unmute"))):this.m_chat.IsUserMutedLocally(t.steamid)?r.push(l.createElement(Ve.Zo,{key:"unmuteuser",onSelected:()=>this.m_chat.UnmuteUserForSession(t.steamid,t.persona_name)},(0,ve.Xx)("#BroadcastChat_UnmuteLocal"))):r.push(l.createElement(Ve.Zo,{key:"muteuser",onSelected:()=>this.m_chat.MuteUserForSession(t.steamid,t.persona_name)},(0,ve.Xx)("#BroadcastChat_MuteLocal"))),(we.L7&&we.L7.is_support||this.m_chat.IsUserBroadcaster(this.m_chat.GetUserSteamID()))&&t.steamid){this.m_chat.BIsUserBroadcastModerator(t.steamid)?r.push(l.createElement(Ve.Zo,{key:"removemod",onSelected:()=>this.m_chat.UpdateBroadcastChatModerator(t.steamid,!1,t.persona_name)},(0,ve.Xx)("#BroadcastChat_Remove_Moderator"))):r.push(l.createElement(Ve.Zo,{key:"addmod",onSelected:()=>this.m_chat.UpdateBroadcastChatModerator(t.steamid,!0,t.persona_name)},(0,ve.Xx)("#BroadcastChat_Add_Moderator")))}return r.length?(0,d.yV)(l.createElement(Ve.xV,null,l.createElement("div",{className:tt().SelectedUserNameCtn},(0,ve.Xx)("#BroadcastChat_User"),l.createElement("br",null),l.createElement("span",{className:tt().SelectedUserName},t.persona_name)),r),e):null}GetTypeClassName(e){return e.type===u.gK.Notification?tt().MessageNotification:e.type===u.gK.Error?tt().MessageError:tt().MessageChat}FormatMessage(e,t){if(e.type===u.gK.Chat){let r=t?t.FilterText(e.steamid,e.msg):e.msg;return this.AddLinksEmoticons(r,!1)}return e.msg}RenderUserChatLine(e,t,r){let a=r?r.get(e.steamid):void 0;const i=e.type===u.gK.Chat?function(e,t,r){return r?"presenter":t.GetBroadcastSteamID()===e?"broadcaster":t.BIsUserBroadcastModerator(e)?"moderator":""}(e.steamid,this.m_chat,a):"";return l.createElement("div",{key:e.instance_id+"_"+e.client_ts+"_"+t,className:this.GetTypeClassName(e),onContextMenu:t=>this.OnContextMenu(t,e)},e.type===u.gK.Chat&&l.createElement(st,{userType:i}),e.flair&&l.createElement("span",{className:tt().FlairContainer},this.AddLinksEmoticons(e.flair,!1)),e.type===u.gK.Chat&&l.createElement(it,{userType:i,msg:e,presenterInfo:a}),e.type===u.gK.Chat&&this.m_chat.GetBroadcastSteamID()===e.steamid&&l.createElement("span",{className:`${tt().MessageNotification} ${tt().MessageContents}`},` (${(0,ve.Xx)("#BroadcastChat_Broadcaster")})`),e.type===u.gK.Chat&&this.m_chat.m_mapChannelModeratorUsers.get(e.steamid)&&l.createElement("span",{className:`${tt().MessageNotification} ${tt().MessageContents}`},` (${(0,ve.Xx)("#BroadcastChat_Moderator")})`),l.createElement("span",{className:`${tt().MessageContents} ${this.AddLinksEmoticons(e.msg,!1).filter((e=>e&&"string"==typeof e)).length?"":tt().EmoticonsOnly}`},e.type===u.gK.Chat?" : ":"",this.FormatMessage(e,this.m_chat.TextFilterStore)))}render(){const{hidden:e,bPartnerMemberOnlyChat:t,bInvertLayout:r}=this.props,a=this.m_chat?this.m_chat.m_rgChatMessages:[],i=r?a.reverse():a,s=this.m_chat?We.GetPresenterMapForBroadcasterSteamID(this.m_chat.GetBroadcastSteamID()):void 0;return l.createElement("div",{className:(0,Ye.Z)(tt().ChatPanel,"ChatPanel"),style:e?{display:"none"}:void 0},r&&!!this.m_chat&&l.createElement(ot,{oChat:this.m_chat,emoticonStore:this.props.emoticonStore,bPartnerMemberOnlyChat:t}),l.createElement(Ke,null),l.createElement("div",{className:(0,Ye.Z)(`${tt().ChatMessages} ${Ge().minHeightZero}`,"ChatMessages"),onScroll:this.HandleScroll,ref:this.messagesContainer},i.map(((e,t)=>this.RenderUserChatLine(e,t,s)))),l.createElement(Ze,null),!r&&!!this.m_chat&&l.createElement(ot,{oChat:this.m_chat,emoticonStore:this.props.emoticonStore,bPartnerMemberOnlyChat:t}))}};function ot(e){const{oChat:t,emoticonStore:r,bPartnerMemberOnlyChat:a}=e;return!a||(null===we.L7||void 0===we.L7?void 0:we.L7.logged_in)&&(null===we.L7||void 0===we.L7?void 0:we.L7.is_partner_member)?(null===we.L7||void 0===we.L7?void 0:we.L7.logged_in)?l.createElement(lt,{oChat:t,emoticonStore:r}):null:l.createElement(mt,null)}function lt(e){const{oChat:t,emoticonStore:r}=e,[a,i]=l.useState(""),s=l.useRef(),n=l.useCallback((e=>{!!e.shiftKey||13!==e.charCode||(t.m_bRateLimited||(t.SendMessage(a),i("")),e.preventDefault())}),[t,a]),o=l.useCallback(((e,t=!1)=>{i(a+`ː${e}ː`),(null==s?void 0:s.current)&&s.current.focus()}),[a,s]);return l.createElement("div",{className:(0,Ye.Z)(tt().ChatEntryCtn,"ChatEntryCtn")},l.createElement("div",{className:(0,Ye.Z)(tt().ChatEntry,"ChatEntry")},l.createElement("form",{className:`${Ge().chatEntryControls}`},l.createElement("textarea",{className:Ge().chatTextarea,placeholder:(0,ve.Xx)("#BroadcastChat_EnterResponse"),onKeyPress:n,onChange:e=>i(e.target.value),value:a,ref:s}),Boolean(t.m_bRateLimited)&&l.createElement(dt,{nSeconds:t.m_nRateLimitSeconds,bRateLimited:t.m_bRateLimited}),l.createElement("button",{className:`${Ge().chatSubmitButton} ${a?"":Ge().disabled}`,title:(0,ve.Xx)("#ChatEntryButton_Submit"),disabled:t.m_bRateLimited||0==a.trim().length,onClick:()=>{t.SendMessage(a),i("")}},l.createElement(Je.k4K,null))),l.createElement("div",{style:{height:"50px"},className:`${Ge().chatEntryActionsContainer}`},l.createElement("div",{className:Ge().chatEntryActionsGroup},l.createElement(je.Z,{disabled:!1,OnEmoticonSelected:o,rtLastAckedNewEmoticons:Number.MAX_VALUE,emoticonStore:r,emoticonHoverStore:Ne.$}),l.createElement(ct,Object.assign({},e,{textInputRef:s}))))))}function ct(e){var t;const{oChat:r,emoticonStore:a,textInputRef:i}=e;return r.m_strFlairGroupID&&a.flair_list&&(null===(t=a.GetFlairListByGroupID(r.m_strFlairGroupID))||void 0===t?void 0:t.length)?l.createElement(je.Z,{disabled:!1,OnEmoticonSelected:e=>{r.UpdateChatMessageFlair(e),(null==i?void 0:i.current)&&i.current.focus()},rtLastAckedNewEmoticons:Number.MAX_VALUE,emoticonStore:a,emoticonHoverStore:Ne.$,strFlairGroupID:r.m_strFlairGroupID,title:(0,ve.Xx)("#ChatEntryButton_Flair"),buttonIcon:l.createElement(Je.yVt,null)}):null}(0,a.gn)([c.LO],nt.prototype,"m_chat",void 0),(0,a.gn)([Qe.ak],nt.prototype,"StartChat",null),(0,a.gn)([Qe.ak],nt.prototype,"HandleScroll",null),(0,a.gn)([Qe.ak],nt.prototype,"OnContextMenu",null),(0,a.gn)([Qe.ak],nt.prototype,"RenderUserChatLine",null),nt=(0,a.gn)([n.Pi],nt);class dt extends l.Component{render(){return l.createElement("div",{className:tt().TimedProgressBarContainer},l.createElement("div",{className:tt().wrapper},l.createElement("div",{className:`${tt().spinner} ${tt().pie}`,style:{animationDuration:`${this.props.nSeconds||0}s`}}),l.createElement("div",{className:`${tt().filler} ${tt().pie}`,style:{animationDuration:`${this.props.nSeconds||0}s`}}),l.createElement("div",{className:tt().mask,style:{animationDuration:`${this.props.nSeconds||0}s`}})))}}function mt(e){return l.createElement("div",{className:tt().Description},l.createElement("div",{className:tt().LogInPrompt},(0,ve.Xx)("#Broadcast_PartnerChat_Login")),!we.L7.logged_in&&l.createElement(Le.zx,{onClick:Xe.X,className:(0,Ye.Z)(tt().SignInButton)},(0,ve.Xx)("#Login_SignIn")))}var ut=r(62170),ht=r(18728),_t=(r(26191),r(27566)),pt=r(93045),bt=r(92409),gt=r(76870),Bt=r(79860),St=r(62081),yt=r(49135),ft=r.n(yt);const vt=(0,n.Pi)((e=>{const{appid:t}=e,r=(0,Bt.bJ)(),a=(0,l.useRef)({include_assets:!0,include_release:!0}),[i,s]=(0,_t.vs)(t,a.current);let n=ft().StoreSaleWidgetContainer_mini,o=ft().StoreSaleWidgetImage_mini,c=ft().StoreSaleImage_mini;if(!i&&2!=s)return l.createElement("div",{className:n},l.createElement(St.V,{size:"medium"}),";");if(2==s||!i.GetName())return l.createElement("div",{className:pt.StoreSaleWidgetEmptyContainer});const d=8!=i.GetAppType(),m=(0,ht.Hf)(i.GetStorePageURL(),r);return l.createElement("div",{className:n},l.createElement("div",{className:pt.Actions},l.createElement("a",{href:m,target:we.De.IN_CLIENT?void 0:"_blank"},l.createElement(gt.W,{type:"app",id:t},l.createElement("div",{className:o},l.createElement("img",{className:c,src:i.GetAssets().GetSmallCapsuleURL()}))))),l.createElement("div",{className:pt.StoreSaleBroadcastWidgetRight},l.createElement("div",{className:pt.Actions},l.createElement("a",{href:m,target:we.De.IN_CLIENT?void 0:"_blank"},l.createElement(gt.W,{type:"app",id:t},l.createElement("div",{className:(0,Ye.Z)(pt.StoreSaleWidgetTitle,"StoreSaleWidgetTitle")},i.GetName())))),l.createElement("div",{className:pt.StoreSaleWidgetRelease},i.GetFormattedSteamReleaseDate()),Boolean(d)&&l.createElement(bt.x1,{info:{id:t,type:"game"},bShowDemoButton:!0})))}));var Ct=r(4778),wt=r(77764),Mt=(r(57301),r(66279),r(3600)),Et=r(22409),Tt=(r(30174),r(38785)),Ft=r(75334),Rt=r(13583),Dt=r(61701),Ot=r(87478),It=r(22784),zt=r(80533);const Pt=e=>{const{onPositionChange:t,onLeave:r}=e,a=l.useCallback((e=>(void 0===e.previousPosition&&e.currentPosition===zt.h.above&&r&&r(e),t&&t(e))),[t,r]);return l.createElement(zt.h,Object.assign({},e,{onPositionChange:a}))};var xt=r(13102),kt=(r(13796),r(5071)),Wt=r(29336),Nt=r.n(Wt);const At=(0,n.Pi)((e=>{const{event:t}=e,r=t.clanSteamID.GetAccountID(),i=!t||!t.jsondata||!t.jsondata.broadcast_item_drops_enabled,n=(0,l.useRef)(null),[o,c]=(0,l.useState)(t?kt.bq.GetCreatorHome(t.clanSteamID):null);if((0,l.useEffect)((()=>{const e=s().CancelToken.source();n.current=e.cancel;return(0,a.mG)(void 0,void 0,void 0,(function*(){const t=g.K.InitFromClanID(r),a=yield kt.bq.LoadCreatorHome(t,e);e.token.reason||c(a)})),()=>{n.current&&n.current("BroadcastDropsDisplay: unmounting")}}),[r]),i||!o||!o.BIsLoaded())return null;const d=we.De.COMMUNITY_BASE_URL+"gid/"+t.jsondata.broadcast_item_drops_details_clan_accountid+"/partnerevents/view/"+t.jsondata.broadcast_item_drops_details_event_gid;return l.createElement("div",{className:Nt().item_drop_ctn},l.createElement("div",null,(0,ve.Xx)(o.GetName().length>0?t.jsondata.broadcast_item_drops_min_watch_time_minutes%60==0?"#SalePage_WatchForDrop_Hours_CreatorNamed":"#SalePage_WatchForDrop_Minutes_CreatorNamed":t.jsondata.broadcast_item_drops_min_watch_time_minutes%60==0?"#SalePage_WatchForDrop_Hours_Developer":"#SalePage_WatchForDrop_Minutes_Developer",t.jsondata.broadcast_item_drops_min_watch_time_minutes%60==0?t.jsondata.broadcast_item_drops_min_watch_time_minutes/60:t.jsondata.broadcast_item_drops_min_watch_time_minutes,o.GetName()),Boolean(t.jsondata.broadcast_item_drops_details_clan_accountid)&&l.createElement("a",{href:d,target:we.De.IN_CLIENT?"":"_blank"},(0,ve.Xx)("#SalePage_WatchForDrop_LearnMore"))))}));var Gt=r(42256),Vt=r.n(Gt),Lt=r(9495),Ut=r(56175),jt=r(47077),Xt=r(78853),Ht=r(1028),qt=r(71488),$t=r(2280),Kt=r(51990),Zt=r.n(Kt);function Jt(e){const{steamid:t,closeModal:r}=e;return l.createElement(Ht.uH,{strDescription:"",strTitle:(0,ve.Xx)("#Button_Share"),onCancel:r,onOK:r,bAlertDialog:!0,modalClassName:"EventDisplay_Share_Dialog"},l.createElement(Yt,{steamid:t}),l.createElement(Qt,{steamid:t}))}function Yt(e){const{steamid:t}=e;return l.createElement("div",{className:(0,Ye.Z)(Vt().FlexRowContainer,Zt().share_controls_ctn)},l.createElement(It.HP,{toolTipContent:(0,ve.Xx)("#EventDisplay_Share_OnFaceBook")},l.createElement(qt.ns,{href:er(t,$t.u_.k_eFacebook),className:Zt().ShareBtn},l.createElement("img",{className:(0,Ye.Z)(Vt().Button),src:Ut.Z}))),l.createElement(It.HP,{toolTipContent:(0,ve.Xx)("#EventDisplay_Share_OnTwitter")},l.createElement(qt.ns,{href:er(t,$t.u_.k_eTwitter),className:Zt().ShareBtn},l.createElement("img",{className:(0,Ye.Z)(Vt().Button),src:Xt.Z}))),l.createElement(It.HP,{toolTipContent:(0,ve.Xx)("#EventDisplay_Share_OnReddit")},l.createElement(qt.ns,{href:er(t,$t.u_.k_eReddit),className:Zt().ShareBtn},l.createElement("img",{className:(0,Ye.Z)(Vt().Button),src:jt.Z}))))}function Qt(e){const{steamid:t}=e,r=l.createRef(),[a,i]=l.useState(!1),s=l.createRef(),n=l.useCallback((e=>{r.current&&(r.current.select(),document.execCommand("copy"),i(!0))}),[r]),o=we.De.COMMUNITY_BASE_URL+"broadcast/watch/"+t;return l.createElement("div",null,l.createElement("div",{className:(0,Ye.Z)(Vt().FlexRowContainer,Zt().linkField),onClick:n},l.createElement("span",{className:Zt().LinkInputLabel},(0,ve.Xx)("#EventDisplay_Share_Link")),l.createElement("textarea",{className:Zt().LinkInput,ref:r,value:o,readOnly:!0}),Boolean(document.queryCommandSupported("copy"))&&l.createElement(It.HP,{toolTipContent:(0,ve.Xx)("#ToolTip_CopyLinkToClipboard")},l.createElement("div",{className:(0,Ye.Z)(Vt().Button,Vt().Icon,Zt().LinkButton)},l.createElement("img",{className:Zt().ClipboardIcon,src:Lt.Z})))),l.createElement("div",{ref:s,className:Zt().ClipboardText},a?(0,ve.Xx)("#EventDisplay_Share_CopiedToClipboard"):""))}function er(e,t){return we.De.COMMUNITY_BASE_URL+"broadcast/share/"+e+"?site="+t}var tr=r(40331),rr=r(95002);const ar={list:[{appid:444090,url:"https://steam.tv/paladins"},{appid:386360,url:"https://steam.tv/smite"},{appid:813820,url:"https://steam.tv/realmroyale"},{appid:583950,url:"https://steam.tv/artifact",broadcasterAccountID:912972716},{appid:570,url:"https://steam.tv/dota",broadcasterAccountID:238221269},{appid:1025790,url:"https://steam.tv/steamawards",broadcasterAccountID:934427243},{appid:730,url:"https://steam.tv/csgo",broadcasterAccountID:927819071}]};function ir(e){return function(){const e=(0,we.id)();return we.De.EREALM!=Ct.IN.k_ESteamRealmChina&&!e}()?l.createElement(sr,Object.assign({},e)):null}let sr=class extends l.Component{constructor(){super(...arguments),this.m_cancelSignal=s().CancelToken.source(),this.m_bMarkedUsabilitySeen=!1,this.state={bShowPopoutHeader:!1,bExpanded:!1,bLoadingPreference:!0,style:{maxHeight:"0vh",overflow:"hidden",transition:"max-height 1s ease-in-out"},innerStyle:{maxHeight:"0vh",overflow:"hidden",transition:"max-height 1s ease-in-out"},bStartMuted:!0}}componentDidMount(){return(0,a.mG)(this,void 0,void 0,(function*(){(0,Tt.nf)(null),yield Et.ai.Get().LoadBIsEmbeddedBroadcastHidden(this.m_cancelSignal),this.m_cancelSignal.token.reason||this.setState({bLoadingPreference:!1,bExpanded:!Et.ai.Get().BIsEmbeddedBroadcastHiddenByDefaultUserSettings(),innerStyle:Object.assign(Object.assign({},this.state.innerStyle),{maxHeight:Et.ai.Get().BIsEmbeddedBroadcastHiddenByDefaultUserSettings()?"0vh":"100vh"})}),yield this.props.bIsPreview&&this.props.accountIDs&&!this.props.event.BUsesContentHubForItemSource()?Et.ai.Get().HintLoadEmbeddablePreviewStreams(this.props):Et.ai.Get().HintLoadEmbeddableStreams(this.props),this.props.nAppIDVOD&&(Et.ai.Get().SetupEmbeddableVOD(this.props,!this.props.bSkipPreRoll),this.props.bSkipPreRoll&&this.PlayTopNonVOD()),window.setTimeout((()=>{this.m_cancelSignal.token.reason||this.setState({style:Object.assign(Object.assign({},this.state.style),{maxHeight:"100vh"})})}),10)}))}componentWillUnmount(){this.m_cancelSignal.cancel("BroadcastEmbeddable component unmounted")}ToggleBroadcastExpandShrink(){let e=Et.ai.Get().GetPlayReadyStream(this.props);const t=this.state.bExpanded,r=Mt.c9.GetOrCreateBroadcastInfo(e.steamid).m_nAppID;(0,Et.wx)(r,t?2:3,e.snr),t&&(0,wt.X)()&&(0,wt.X)().AddEvent(1005),window.setTimeout((()=>this.setState({innerStyle:Object.assign(Object.assign({},this.state.innerStyle),{maxHeight:t?"0vh":"100vh"})})),10),t||this.setState({bExpanded:!this.state.bExpanded},(()=>Et.ai.Get().SetEmbeddedStreamCollapsed(!this.state.bExpanded)))}OnShrinkTransitionEnd(){"0vh"===this.state.innerStyle.maxHeight&&this.setState({bExpanded:!1},(()=>Et.ai.Get().SetEmbeddedStreamCollapsed(!0)))}onStreamSelect(e){return(0,a.mG)(this,void 0,void 0,(function*(){this.setState({bStartMuted:!1}),Et.ai.Get().GetPlayReadyStream(this.props).accountid!=e.accountid&&(yield Et.ai.Get().AttemptToPlayStream(this.props,e))}))}PlayTopNonVOD(){return(0,a.mG)(this,void 0,void 0,(function*(){this.setState({bStartMuted:!1});const e=Et.ai.Get().GetStreams(this.props).filter((e=>!this.props.fnFilterStreams||this.props.fnFilterStreams(e)));(0,Et.rg)(e);for(const t of e)if(!t.nAppIDVOD)return void(yield Et.ai.Get().AttemptToPlayStream(this.props,t))}))}ConstructSidePanels(e,t){let r={leftPanel:null,rightPanel:null,bRightPanelArtworkOrEmpty:!0};if(this.props.bWidePlayer)return r;const a=Et.ai.Get().GetConcurrentStreams(this.props)>1;let i=Mt.c9.GetOrCreateBroadcastInfo(e.steamid).m_nAppID,s=l.createElement("div",{className:Nt().rightPanel},l.createElement(cr,{key:"right"+i,ImgUrl:e.right_panel})),n=l.createElement(cr,{key:"left"+i,ImgUrl:e.left_panel});if(i<11){const t=We.GetAppIDListForBroadcasterSteamID(e.steamid);t&&1===t.length&&(i=t[0])}return!((this.props.promotionName||this.props.bIsPreview||this.props.subid||this.props.bundleid)&&i>=11)||this.props.event&&this.props.event.jsondata.broadcast_force_banner||(s=l.createElement(vt,{key:"mini"+e.accountid,appid:i}),r.bRightPanelArtworkOrEmpty=!1),a&&!t?(r.leftPanel=l.createElement(ur,{broadcastEmbedContext:this.props,key:"selector"+i,curStream:e,onStreamSelect:this.onStreamSelect,fnFilterStreams:this.props.fnFilterStreams,bShowCapsuleArt:this.props.bShowCapsuleArt}),r.rightPanel=s):t?(r.leftPanel=l.createElement("div",null),r.rightPanel=l.createElement(pr,{stream:e,orientation:"rightside"}),r.bRightPanelArtworkOrEmpty=!1):(r.leftPanel=n,r.rightPanel=s),r}MarkBroadcastSeen(){this.m_bMarkedUsabilitySeen||(this.m_bMarkedUsabilitySeen=!0,(0,wt.X)()&&(0,wt.X)().AddEvent(1004))}render(){if(this.state.bLoadingPreference)return null;let e=Et.ai.Get().GetPlayReadyStream(this.props);if(e){this.MarkBroadcastSeen();let t="show"===Et.ai.Get().GetChatVisibility();const{event:r,language:a,fnRenderBroadcastContext:i}=this.props;r&&(e=Object.assign(Object.assign({},e),{left_panel:r.GetImageURL("broadcast_left",a||(0,h.jM)(we.De.LANGUAGE)),right_panel:r.GetImageURL("broadcast_right",a||(0,h.jM)(we.De.LANGUAGE)),store_title:r.GetBroadcastTitle(a||(0,h.jM)(we.De.LANGUAGE)),broadcast_chat_visibility:r.GetBroadcastChatVisibility()}));let s=this.ConstructSidePanels(e,t),n=e.store_title?e.store_title:e.title,o=Et.ai.Get().GetConcurrentStreams(this.props)>1;const c=()=>{var t,r;e.nAppIDVOD&&this.PlayTopNonVOD(),null===(r=(t=this.props).fnOnVideoEnd)||void 0===r||r.call(t)};r&&r.jsondata&&r.jsondata.broadcast_gradient_inner_color,r&&r.jsondata&&r.jsondata.broadcast_gradient_outer_color;return l.createElement(l.Fragment,null,l.createElement("div",{className:"broadcast_embed_top_ctn_trgt",style:this.state.style},l.createElement("div",{className:(0,Ye.Z)({[Nt().bordered_container]:!0,[Nt().Event]:Boolean(r),broadcast_brd_ctn_trgt:!0})},l.createElement("div",{className:(0,Ye.Z)(Nt().bordered_title,"bordered_title_trgt")},l.createElement(Rt.xP,null),n,l.createElement("div",{className:Nt().bordered_corner_container},!this.state.bExpanded&&l.createElement("div",{className:Nt().broadcast_settings_icon,"data-tooltip-text":(0,ve.Xx)("#StoreBroadcast_Change_store_Broadcast_settings"),onClick:()=>window.open(`${we.De.STORE_BASE_URL}account/preferences/#store_broadcast_settings`)}),l.createElement("div",{className:this.state.bExpanded?Nt().bordered_corner_expanded:Nt().bordered_corner_shrinked,"data-tooltip-text":(0,ve.Xx)("#StoreBroadcast_Hide_Tooltip"),onClick:this.ToggleBroadcastExpandShrink})),Boolean(e.gamedata_subtitle)&&l.createElement("div",{className:Nt().bordered_subtitle},e.gamedata_subtitle)),this.state.bExpanded&&l.createElement("div",{className:(0,Ye.Z)({[Nt().container]:!0,embeddable_ctn_trgt:!0,multistream:o,broadcast_right_panel_simple:s.bRightPanelArtworkOrEmpty,broadcast_chat_expanded:t}),style:Object.assign({},this.state.innerStyle),onTransitionEnd:this.OnShrinkTransitionEnd},s.leftPanel,l.createElement(nr,{stream:e,bStartMuted:this.state.bStartMuted,fnRenderBroadcastContext:i,fnOnVideoEnd:c,bWidePlayer:this.props.bWidePlayer}),s.rightPanel,this.state.bExpanded&&l.createElement(lr,{stream:e,bMultistream:o}))),Boolean(r&&r.jsondata&&r.jsondata.broadcast_item_drops_enabled)&&l.createElement(At,{event:r}),this.state.bExpanded&&l.createElement("div",{className:`${r?Nt().Event:""}`},l.createElement(lr,{stream:e,bMultistream:o})),l.createElement("div",{className:Nt().clear_div})))}return l.createElement("div",{className:"NoBroadcastAvailable"})}};(0,a.gn)([Qe.ak],sr.prototype,"ToggleBroadcastExpandShrink",null),(0,a.gn)([Qe.ak],sr.prototype,"OnShrinkTransitionEnd",null),(0,a.gn)([Qe.ak],sr.prototype,"onStreamSelect",null),(0,a.gn)([Qe.ak],sr.prototype,"PlayTopNonVOD",null),sr=(0,a.gn)([n.Pi],sr);class nr extends l.Component{constructor(e){super(e),this.m_iVideoContainerRef=l.createRef(),this.state={bPopout:!1,bPreventPopup:window.screen.width<=768}}CloseBroadcastPopup(){const e=Mt.c9.GetOrCreateBroadcastInfo(this.props.stream.steamid).m_nAppID;(0,Et.wx)(e,7,this.props.stream.snr),(0,wt.X)()&&(0,wt.X)().AddEvent(1006),this.setState({bPopout:!1,bPreventPopup:!0})}OnEnter(){!this.state.bPreventPopup&&this.state.bPopout&&this.setState({bPopout:!1})}OnLeave(){this.state.bPreventPopup||this.state.bPopout||this.setState({bPopout:!0})}render(){return l.createElement("div",{className:Nt().wrapper},l.createElement(Pt,{onEnter:this.OnEnter,onLeave:this.OnLeave},l.createElement("div",{className:(0,Ye.Z)({[Nt().video_placeholder]:!0,video_placeholder_trgt:!0,[Nt().WidePlayer]:this.props.bWidePlayer}),ref:this.m_iVideoContainerRef},l.createElement("div",{className:this.state.bPopout?Nt().broadcast_floating:Nt().video_container},this.state.bPopout&&l.createElement(dr,{steamIDBroadcast:this.props.stream.steamid,OnPreventPopup:this.CloseBroadcastPopup}),l.createElement("div",{className:Nt().BroadcastPlayerContainer},l.createElement(ut.default,{steamIDBroadcast:this.props.stream.steamid,watchLocation:6,bStartMuted:this.props.bStartMuted,fnRenderBroadcastContext:this.props.fnRenderBroadcastContext,fnOnVideoEnd:this.props.fnOnVideoEnd,nAppIDVOD:this.props.stream.nAppIDVOD}))))))}}function or(e){const{stream:t}=e,[r]=(0,o.SZ)((()=>[t.steamid])),a=Mt.c9.GetOrCreateBroadcastInfo(r).m_nAppID,i=ar.list.find((e=>e.appid==a&&(!e.broadcasterAccountID||e.broadcasterAccountID==t.accountid)));if(i){let e=i.url;return(we.De.IN_CLIENT||navigator.userAgent.indexOf("Valve Steam Client")>=0||navigator.userAgent.indexOf("Valve Steam GameOverlay")>=0||navigator.userAgent.indexOf("Valve Steam Tenfoot")>=0)&&(e="steam://openurl/"+e),l.createElement("a",{href:e},(0,ve.Xx)("#Broadcast_Embed_Watch_With_Frieds_SteamTV"))}{const e=we.De.COMMUNITY_BASE_URL+"broadcast/watch/"+r;return l.createElement(It.HP,{toolTipContent:(0,ve.Xx)("#BroadcastWatch_View_Broadcast_Page")},l.createElement("a",{href:e,className:Nt().external_link},l.createElement(Je.dLw,null)))}}(0,a.gn)([Qe.ak],nr.prototype,"CloseBroadcastPopup",null),(0,a.gn)([Qe.ak],nr.prototype,"OnEnter",null),(0,a.gn)([Qe.ak],nr.prototype,"OnLeave",null);let lr=class extends l.Component{OnToggleChat(e){e.preventDefault();const t=Mt.c9.GetOrCreateBroadcastInfo(this.props.stream.steamid).m_nAppID;(0,Et.wx)(t,"show"===Et.ai.Get().GetChatVisibility()?5:4,this.props.stream.snr),Et.ai.Get().ToggleChatVisibility()}onWatchBroadcastPage(){const e=Mt.c9.GetOrCreateBroadcastInfo(this.props.stream.steamid).m_nAppID;(0,Et.wx)(e,9,this.props.stream.snr)}render(){const e="remove"!=Et.ai.Get().GetChatVisibility(),t="hide"===Et.ai.Get().GetChatVisibility(),r=!this.props.stream.nAppIDVOD,a=r;let i=Number.parseInt(""+Mt.c9.GetOrCreateBroadcastInfo(this.props.stream.steamid).m_nViewerCount);return l.createElement("div",{className:(0,Ye.Z)(Nt().viewer_bar,"viewer_bar")},l.createElement("div",{className:(0,Ye.Z)(Nt().viewer_count,"viewer_count")},l.createElement(Je.lsH,null),(0,xt.AV)(i)),l.createElement("div",{className:(0,Ye.Z)(Nt().viewer_links,"viewer_links")},Boolean(e&&!t&&this.props.bMultistream)&&l.createElement("div",{className:Nt().chat_link},l.createElement("a",{href:"#",className:Nt().ChatToggle,onClick:this.OnToggleChat},(0,ve.Xx)("#sale_three_section_show_streams"))),e&&l.createElement("div",{className:Nt().chat_link},l.createElement(Je.IWH,null),l.createElement("a",{href:"#",className:Nt().ChatToggle,onClick:this.OnToggleChat},(0,ve.Xx)(t?"#sale_three_section_show_chat":"#sale_three_section_hide_chat"))),a&&l.createElement("div",{className:Nt().chat_link},l.createElement(Je.mBz,null),l.createElement("a",{href:"#",className:Nt().ChatToggle,onClick:e=>(0,rr.AM)(l.createElement(Jt,{steamid:this.props.stream.steamid}),(0,tr.RA)(e))},(0,ve.Xx)("#Broadcast_ShareBroadcast"))),l.createElement(It.HP,{toolTipContent:(0,ve.Xx)("#StoreBroadcast_Change_store_Broadcast_settings")},l.createElement("a",{href:we.De.STORE_BASE_URL+"account/preferences/#store_broadcast_settings",target:we.De.IN_CLIENT?void 0:"_blank",className:Nt().settings_link},l.createElement(Je.Zrf,null))),r&&l.createElement(or,Object.assign({},this.props))))}};(0,a.gn)([Qe.ak],lr.prototype,"OnToggleChat",null),(0,a.gn)([Qe.ak],lr.prototype,"onWatchBroadcastPage",null),lr=(0,a.gn)([n.Pi],lr);class cr extends l.Component{render(){let e=this.props.ImgUrl;return l.createElement(l.Fragment,null,e&&l.createElement("img",{className:Nt().side_panels,src:this.props.ImgUrl}),!e&&l.createElement("div",{className:Nt().side_panels}))}}const dr=(0,n.Pi)((e=>{const{steamIDBroadcast:t}=e,r=Mt.c9.GetOrCreateBroadcastInfo(t).m_nAppID,[a]=(0,_t.vs)(r,{});return l.createElement("div",{className:[Nt().PopOutVideoTitleBar,Nt().NoSeslect].join(" ")},Boolean(a)?l.createElement(gt._,{type:"app",id:r,className:Nt().PopOutVideoTitleText},(0,ve.Xx)("#StoreBroadcast_Detault_popout_Title")):l.createElement("div",{className:Nt().PopOutVideoTitleText},(0,ve.Xx)("#StoreBroadcast_Detault_popout_Title")),l.createElement("button",{className:Nt().PopOutVideoCloseButton,"data-tooltip-text":(0,ve.Xx)("#StoreBroadcast_close_broadcast_popup"),onClick:e.OnPreventPopup},l.createElement(Je.X,null)))}));function mr(e,t){var r;const a=Mt.c9.GetOrCreateBroadcastInfo(t.steamid).m_nAppID,i=Ft.Z.Get().GetApp(a);return e&&(null===(r=null==i?void 0:i.GetAssets())||void 0===r?void 0:r.GetHeaderURL())?parseInt(Nt().strStreamIconCapsuleArtHeight):parseInt(Nt().strStreamIconScreenshotArtHeight)}function ur(e){const{curStream:t,onStreamSelect:r,fnFilterStreams:a,bShowCapsuleArt:i,broadcastEmbedContext:s}=e,n=(0,l.useRef)(),o=(0,l.useMemo)((()=>{const e=Et.ai.Get().GetStreams(s).filter((e=>!a||a(e)));return(0,Et.rg)(e),e}),[s,a]);return(0,l.useEffect)((()=>{if(n&&n.current){const e=o.map((e=>Mt.c9.GetOrCreateBroadcastInfo(e.steamid).m_nAppID)).filter(Boolean);Ft.Z.Get().QueueMultipleAppRequests(e,{include_assets:!0}).then((()=>{if(n.current){let e=0;for(const r of o){if(t.accountid==r.accountid)break;e+=mr(i,r)}n.current.scrollTop=e}}))}}),[o,i,t.accountid,n]),l.createElement("div",{ref:n,className:(0,Ye.Z)({[Nt().side_panels]:!0,side_panels:!0,[Nt().multistream]:!0,[Nt().scrollingstreams]:o.length>3})},o.map((e=>{var a;return l.createElement(hr,{key:null!==(a=e.accountid)&&void 0!==a?a:e.steamid,stream:e,bSelected:t.accountid==e.accountid,onStreamSelect:r,bShowCapsuleArt:i})})))}function hr(e){var t;const{onStreamSelect:r,bSelected:a,stream:i,bShowCapsuleArt:s}=e,n=(0,o.SZ)((()=>Mt.c9.GetOrCreateBroadcastInfo(i.steamid).m_nAppID)),[c]=(0,_t.vs)(null!==(t=i.nAppIDVOD)&&void 0!==t?t:n,{include_assets:!0});if(!(0,Et.A$)(i))return null;const d=s&&(null==c?void 0:c.GetAssets().GetHeaderURL()),m=Number.parseInt(""+i.viewer_count),u=!Number.isNaN(m),h=!!i.nAppIDVOD&&(null==c?void 0:c.GetName());return l.createElement("div",{className:(0,Ye.Z)({[Nt().stream_icon_and_viewer_container]:!0,[Nt().stream_featured]:i.current_selection_priority==Et.VA.k_eFeatured,[Nt().display_capsule_art]:Boolean(d)})},l.createElement(gt.W,{type:"app",id:n},l.createElement(Ot.Y,{className:Nt().stream_icon_container,onClick:()=>r&&r(i),rootMargin:"100px 0px 100px 0px"},l.createElement(_r,{strThumbnail:i.thumbnail_http_address,bSelected:a,strCapsuleArtURL:d}),a&&l.createElement("div",{className:Nt().stream_icon_arrow}))),l.createElement("div",{className:(0,Ye.Z)(Nt().viewer_count,!u&&Nt().vod_title)},u?l.createElement(l.Fragment,null,l.createElement(Je.lsH,null)," ",(0,xt.AV)(m)):h))}function _r(e){const{strCapsuleArtURL:t,strThumbnail:r,bSelected:a}=e,i=a?Nt().stream_icon_selected:Nt().stream_icon;if(t){const e=[t];return l.createElement(l.Fragment,null,l.createElement("img",{className:(0,Ye.Z)(i,Nt().stream_icon_hide_on_hover),src:t}),l.createElement(Dt.J,{className:(0,Ye.Z)(i,Nt().stream_icon_show_on_hover),srcs:e}))}return l.createElement("img",{className:i,src:r})}function pr(e){const{stream:t,orientation:r}=e,a="below"==r,i=(0,o.SZ)((()=>Mt.c9.GetBroadcast(t.steamid)));return i?l.createElement("div",{className:(0,Ye.Z)({[Nt().chat_below_container]:a,[Nt().chat_rightside_container]:!a,[Nt().store_chat_ctn]:!0})},l.createElement("div",{className:Nt().ChatContainer},l.createElement(nt,{emoticonStore:Et.D$,watchLocation:6,steamID:t.steamid,broadcastID:i.m_ulBroadcastID}))):null}},62170:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BroadcastDetails:()=>re,LinkOverlay:()=>ie,default:()=>L});var a=r(70655),i=r(9669),s=r.n(i),n=r(22188),o=r(29323),l=r(67294),c=r(73417),d=(r(96794),r(44660)),m=r(18728),u=(r(33384),r(3600)),h=r(75334),_=r(31951),p=r(75818),b=r(45873),g=r(10418),B=r(58657),S=r(11120),y=r(7952),f=r(71488),v=r(93725),C=r(45520),w=r(40331),M=r(27194),E=r(13102),T=r(38645),F=r(31535),R=r(78869),D=r(62141),O=r(33560),I=r(83926),z=r.n(I),P=r(62081);function x(){return l.createElement("div",{className:"STV_ReplayBanner"},(0,M.Xx)("#DASHPlayerControls_IsReplay"))}const k=(0,o.Pi)((e=>{let t=e.video;if(t&&(t.IsBroadcastClip()||t.IsBroadcastVOD()))return null;let r=u._d.Loading,a="";if(t){r=t.GetBroadcastState(),a=t.GetBroadcastStateDescription();let e=t.IsBuffering();r==u._d.Unlocking&&(r=u._d.Loading,a=""),r==u._d.Ready&&e&&(r=u._d.Loading,a="")}if(t&&r!=u._d.Error&&t.GetUserInputNeeded())return null;if(r==u._d.Ready)return null;let i=r==u._d.Loading;return l.createElement("div",{className:"BroadcastVideoWatchState",style:{filter:"hue-rotate(40deg)"}},i&&l.createElement(P.V,null),!i&&l.createElement("div",{className:"BroadcastVideoWatchState_Text"},a))}));class W extends l.Component{OnClick(){u.c9.UserInputClickVideo(this.props.video)}render(){return l.createElement("div",{className:"BroadcastVideoUserInputNeeded",onClick:this.OnClick},l.createElement(y.shV,null),l.createElement("span",null,(0,M.Xx)("#DASHPlayerControls_ClickToPlay")))}}(0,a.gn)([F.ak],W.prototype,"OnClick",null);r(26750);let N=class extends l.Component{constructor(e){super(e)}HideStats(){this.props.closeStats&&this.props.closeStats()}render(){let e=this.props.stats;return l.createElement("div",{className:"dash_video_stats"},l.createElement("button",{className:"dash_stat_close_button",onClick:this.HideStats},l.createElement(y.pVO,null)),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_BufferingResolution")," ",l.createElement("span",{className:"videoStatsValue"},e.GetBufferingResolutionToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_PlaybackResolution")," ",l.createElement("span",{className:"videoStatsValue"},e.GetPlaybackResolutionToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_HtmlResolution")," ",l.createElement("span",{className:"videoStatsValue"},e.GetHTMLVideoResolutionToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_ContentServer")," ",l.createElement("span",{className:"videoStatsValue"},e.GetContentServerToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_StallEvents")," ",l.createElement("span",{className:"videoStatsValue"},e.GetStalledEventsToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_FailedDownloads")," ",l.createElement("span",{className:"videoStatsValue"},e.GetFailedDownloadsToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_TimeToFirstFrame")," ",l.createElement("span",{className:"videoStatsValue"},e.GetTimeToFirstFrameToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_PlaybackRate")," ",l.createElement("span",{className:"videoStatsValue"},e.GetPlaybackRateForDisplay())),l.createElement(A,{stats:e}))}};(0,a.gn)([F.ak],N.prototype,"HideStats",null),N=(0,a.gn)([o.Pi],N);let A=class extends l.Component{constructor(e){super(e)}createBufferedRange(e){let t=this.props.stats,r=[],a=e?"vidbuf":"audbuf",i=e?t.GetNumBufferedVideoRanges():t.GetNumBufferedAudioRanges();if(i>0)for(let s=0;s<i;++s){let i=(0,M.Xx)(e?"#DASHPlayerStats_VideoBufferRange":"#DASHPlayerStats_AudioBufferRange",s),n=e?t.GetBufferedVideoSegmentForDisplay(s):t.GetBufferedAudioSegmentForDisplay(s);r.push(l.createElement("div",{key:a+s},i," ",l.createElement("span",{className:"videoStatsValue"},n)))}else{let t=(0,M.Xx)(e?"#DASHPlayerStats_VideoNoRangeInformation":"#DASHPlayerStats_AudioNoRangeInformation");r.push(l.createElement("div",{key:a+"none"},t))}return r}render(){let e=this.props.stats;return l.createElement("div",{className:"dash_video_quick_stats"},l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_BytesReceived")," ",l.createElement("span",{className:"videoStatsValue"},e.GetBytesReceivedToDisplay())),this.props.stats.BHasFrameInformation()&&l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_DroppedFrames")," ",l.createElement("span",{className:"videoStatsValue"},e.GetDroppedFramesToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_VideoBuffered")," ",l.createElement("span",{className:"videoStatsValue"},e.GetVideoBufferedToDisplay()," ")),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_AudioBuffered")," ",l.createElement("span",{className:"videoStatsValue"},e.GetAudioBufferedToDisplay()," ")),this.createBufferedRange(!0),this.createBufferedRange(!1),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_BandwidthRequired")," ",l.createElement("span",{className:"videoStatsValue"},e.GetBandwidthRequiredToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_BandwidthVideo")," ",l.createElement("span",{className:"videoStatsValue"},e.GetBandwithVideoToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_BandwidthNums")," ",l.createElement("span",{className:"videoStatsValue"},e.GetBandwidthStatsToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_DownloadNums")," ",l.createElement("span",{className:"videoStatsValue"},e.GetDownloadTimeStatsToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_ActiveDownloads")," ",l.createElement("span",{className:"videoStatsValue"},e.GetActiveDownloadsToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_VideoDownloadProgress")," ",l.createElement("span",{className:"videoStatsValue"},e.GetVideoDownloadProgressToDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_DroppingFrames")," ",l.createElement("span",{className:"videoStatsValue"},e.GetPersistentFrameDropsForDisplay())),l.createElement("div",null,(0,M.Xx)("#DASHPlayerStats_CurrentFPS")," ",l.createElement("span",{className:"videoStatsValue"},e.GetCurrentFPSForDisplay())))}};A=(0,a.gn)([o.Pi],A);r(24070);const G=15;let V=class extends l.Component{constructor(e){super(e),this.m_schHideControls=new v.Ar,this.m_schUnmountControls=new v.Ar,this.m_elBroadcastPlayer=null,this.m_bMouseDown=!1,this.m_elMouseDown=null,this.m_listeners=new v.G_,this.m_cancelSignal=s().CancelToken.source(),this.state={bMountControls:!1,bControlsVisible:!1,bShowStats:!1,video:null,nResizedHeight:null,bFullscreen:!1}}StopVideo(){let e=this.state.video;e&&(u.c9.StopVideo(e),this.setState({video:null}))}IsMuted(){let e=this.state.video;return!e||e.IsMuted()}StopPlaybackTillUserInput(){let e=this.state.video;e&&e.StopPlaybackTillUserInput()}componentDidUpdate(e,t){!t.bMountControls&&this.state.bMountControls?setTimeout((()=>{this.setState((e=>({bControlsVisible:e.bMountControls})))}),15):t.bControlsVisible&&!this.state.bControlsVisible&&this.state.video&&!this.state.video.IsPaused()&&this.m_schUnmountControls.Schedule(2e3,this.UmountControls),this.props.steamIDBroadcast!==e.steamIDBroadcast&&this.BindVideoRef(this.m_elVideo),!this.props.nAppIDVOD||void 0!==t.strInitialCapsuleImageUrl&&e.nAppIDVOD==this.props.nAppIDVOD||h.Z.Get().QueueAppRequest(this.props.nAppIDVOD,{include_assets:!0,include_trailers:!0}).then((()=>{const e=h.Z.Get().GetApp(this.props.nAppIDVOD),t=(null==e?void 0:e.GetAssets().GetMainCapsuleURL())||"";this.setState({strInitialCapsuleImageUrl:t})}))}componentWillUnmount(){this.m_listeners.Unregister(),this.m_schHideControls.Cancel(),this.m_schUnmountControls.Cancel(),this.StopVideo()}BindBroadcastPlayerRef(e){this.m_listeners.Unregister(),this.m_elBroadcastPlayer=e,e&&(this.m_listeners.AddEventListener(e,"fullscreenchange",this.OnFullscreenChange),this.m_listeners.AddEventListener(e,"mozfullscreenchange",this.OnFullscreenChange),this.m_listeners.AddEventListener(e,"webkitfullscreenchange",this.OnFullscreenChange),this.m_listeners.AddEventListener(e,"msfullscreenchange",this.OnFullscreenChange))}BindVideoRef(e){let t;this.StopVideo(),this.props.steamIDBroadcast?e&&(t=u.c9.CreateBroadcastVideo(e,this.props.steamIDBroadcast,this.props.watchLocation,this.props.bWebRTC)):this.props.broadcastClipID?e&&(t=u.c9.CreateClipVideo(e,this.props.broadcastClipID,this.props.watchLocation)):this.props.nAppIDVOD&&e&&(t=u.c9.CreateVODVideo(e,this.props.nAppIDVOD,this.props.watchLocation),this.props.fnOnVideoEnd&&t.SetOnVideoCallback(this.props.fnOnVideoEnd)),t&&(this.props.bStartMuted&&t.SetMute(!0),this.props.bStartPaused?t.StopPlaybackTillUserInput():t.Play()),this.setState({video:t}),this.m_elVideo=e}OnMouseDown(e){this.m_bMouseDown=!0,this.m_elMouseDown=e.currentTarget,this.m_elMouseDown.ownerDocument.defaultView.addEventListener("mouseup",this.OnMouseUp)}OnMouseUp(e){this.m_bMouseDown=!1,this.m_elMouseDown.ownerDocument.defaultView.removeEventListener("mouseup",this.OnMouseUp),this.m_schHideControls.Schedule(3200,this.HideControls)}OnMouseMove(e){this.m_schHideControls.Cancel(),this.m_schUnmountControls.Cancel(),this.state.bMountControls?this.state.bControlsVisible||this.setState({bControlsVisible:!0}):this.setState({bMountControls:!0}),this.m_schHideControls.Schedule(3200,this.HideControls)}OnMouseLeave(e){this.HideControls()}HideControls(){this.state.bControlsVisible&&!this.m_bMouseDown&&this.setState({bControlsVisible:!1})}UmountControls(){this.setState((e=>{if(!e.bControlsVisible&&e.bMountControls)return{bMountControls:!1}}))}ShowStatsView(){let e=this.state.video;e&&(this.state.bShowStats||(this.setState({bShowStats:!0}),e.SetStatsViewIsVisible(!0)))}OnContextMenu(e){this.state.bFullscreen||((0,d.yV)(l.createElement(p.xV,null,this.GetContextMenuItems()),e),e.preventDefault())}ToggleStatsView(e){let t=!this.state.bShowStats;this.setState({bShowStats:t});let r=this.state.video;r&&r.SetStatsViewIsVisible(t)}ShowStorePage(e){let t=this.state.video;if(!t||!this.props.onOpenLinkInNewWindow)return;let r=t.GetBroadcastInfo();if(!r)return;let a=(0,m.OL)(`${R.De.STORE_BASE_URL}app/${r.m_strAppId}`);this.props.onOpenLinkInNewWindow(e,a),e.stopPropagation()}GetContextMenuItems(){let e=[],t=this.state.video;if(!t)return e;let r=t.GetBroadcastInfo();return e.push(l.createElement(p.Td,{key:"togglestats",bChecked:this.state.bShowStats,onSelected:e=>{this.ToggleStatsView(e)}},(0,M.Xx)("#Broadcast_VideoContext_ToggleStats"))),r&&"0"!=r.m_strAppId&&Number.parseInt(r.m_strAppId)!=u.id&&e.push(l.createElement(p.Zo,{key:"visitstore",onSelected:e=>{this.ShowStorePage(e)}},(0,M.Xx)("#Broadcast_VideoContext_OpenStore"))),e}CloseStats(){let e=this.state.video;e&&this.state.bShowStats&&(this.setState({bShowStats:!1}),e.SetStatsViewIsVisible(!1))}OnToggleFullscreen(){this.m_elBroadcastPlayer&&((0,w.h9)(this.m_elBroadcastPlayer)?(0,w.mQ)(this.m_elBroadcastPlayer):(0,w.RD)(this.m_elBroadcastPlayer,this.m_elVideo))}OnFullscreenChange(e){if(!this.m_elBroadcastPlayer)return;let t=(0,w.h9)(this.m_elBroadcastPlayer);this.setState({bFullscreen:t})}BHideVideoControls(){let e=this.state.video;return!e||(!!e.GetUserInputNeeded()||u.c9.GetBroadcastState(e)==u._d.Error)}render(){const e=this.state.video,t=e&&e.IsPaused(),r=e&&e.BHasDASHStats()&&this.state.bShowStats,a=Boolean(e&&e.IsReplay()),i=this.state.bMountControls,s=this.state.bControlsVisible||t,n=e&&e.GetUserInputNeeded(),o=(null==e?void 0:e.IsBroadcastVOD())&&n&&this.state.strInitialCapsuleImageUrl;let c="videoContainer";s||(c+=" HidePlayerControls"),t&&(c+=" VideoPaused"),this.state.bFullscreen&&(c+=" fullscreenVideo"),this.props.classes&&(c+=" "+this.props.classes);let d=[];!this.state.bFullscreen&&this.props.actions&&(d=d.concat(this.props.actions)),!this.state.bFullscreen&&this.props.onTheaterMode&&d.push(l.createElement("div",{key:"ChatPosToggle ChatTheaterToggle",onClick:this.props.onTheaterMode,title:(0,M.Xx)("#Broadcast_View_Theater"),className:"BroadcastTheaterToggle"})),d.push(l.createElement("div",{key:"FullscreenToggle",title:(0,M.Xx)("#Broadcast_View_Fullscreen"),onClick:this.OnToggleFullscreen,className:"BroadcastFullscreenToggle"}));const m=i&&!this.BHideVideoControls(),u=i&&!this.state.bFullscreen,h=this.props.fnRenderBroadcastContext&&this.props.fnRenderBroadcastContext();return l.createElement("div",{ref:this.BindBroadcastPlayerRef,className:c,onMouseMove:this.OnMouseMove,onClick:this.OnMouseMove,onMouseLeave:this.OnMouseLeave,onContextMenu:this.OnContextMenu,onMouseDown:this.OnMouseDown},h&&l.createElement("div",{className:z().BroadcastContext},h),a&&l.createElement(x,null),this.props.showVideoBackgroundBlur&&l.createElement(_.x,{className:"videoBlur",elementRef:this.m_elVideo,updateRate:33,width:320,height:180,reductionFactor:10,blurAmount:5}),l.createElement("video",{className:"videoSrc",ref:this.BindVideoRef,muted:!0,autoPlay:!0,playsInline:!0,controls:!1}),this.props.linkRegions?l.createElement(ie,{linkRegions:this.props.linkRegions,editMode:this.props.editMode,onSaveLinkRegions:this.props.onSaveLinkRegions}):null,this.props.linkElement,o&&l.createElement("img",{loading:"lazy",className:(0,C.Z)(z().BroadcastPlaceholderImg,"BroadcastPlaceholderImg"),src:this.state.strInitialCapsuleImageUrl}),m&&l.createElement(U,{video:e,actions:d,onOpenLinkInNewWindow:this.props.onOpenLinkInNewWindow,onShowStats:this.ToggleStatsView,bIncludeClipEditor:this.props.bIncludeClipEditor}),u&&l.createElement(j,{onClick:this.props.onRequestClose}),r&&l.createElement(N,{stats:e.GetDASHPlayerStats(),closeStats:this.CloseStats}),l.createElement(k,{video:e}),n&&l.createElement(W,{video:e}))}};(0,a.gn)([F.ak],V.prototype,"BindBroadcastPlayerRef",null),(0,a.gn)([F.ak],V.prototype,"BindVideoRef",null),(0,a.gn)([F.ak],V.prototype,"OnMouseDown",null),(0,a.gn)([F.ak],V.prototype,"OnMouseUp",null),(0,a.gn)([F.ak],V.prototype,"OnMouseMove",null),(0,a.gn)([F.ak],V.prototype,"OnMouseLeave",null),(0,a.gn)([F.ak],V.prototype,"HideControls",null),(0,a.gn)([F.ak],V.prototype,"UmountControls",null),(0,a.gn)([F.ak],V.prototype,"ShowStatsView",null),(0,a.gn)([F.ak],V.prototype,"OnContextMenu",null),(0,a.gn)([F.ak],V.prototype,"ToggleStatsView",null),(0,a.gn)([F.ak],V.prototype,"ShowStorePage",null),(0,a.gn)([F.ak],V.prototype,"CloseStats",null),(0,a.gn)([F.ak],V.prototype,"OnToggleFullscreen",null),(0,a.gn)([F.ak],V.prototype,"OnFullscreenChange",null),V=(0,a.gn)([o.Pi],V);const L=V;let U=class extends l.Component{render(){const{video:e}=this.props;if(!e)return null;let t=e.has_segments;return l.createElement("div",{className:"videoControls"},l.createElement(re,{steamID:this.props.video.GetBroadcastSteamID(),bHideThumbnail:!0,bVerticalBroadcastChat:!0,onOpenLinkInNewWindow:this.props.onOpenLinkInNewWindow}),l.createElement("div",{className:"videoControlsBottom"+(t?"":" noSegments")},l.createElement(te,{video:e,bIncludeClipEditor:this.props.bIncludeClipEditor}),l.createElement("div",{className:"STV_BroadcastController"},l.createElement("div",{className:"videoControlsButtons LeftSpacer"}),l.createElement(X,{video:e}),l.createElement(H,{video:e}),l.createElement(Z,{video:e,actions:this.props.actions,onShowStats:this.props.onShowStats}))))}};U=(0,a.gn)([o.Pi],U);class j extends l.PureComponent{render(){return this.props.onClick?l.createElement("div",{className:"STV_BroadcastClose",onClick:this.props.onClick},l.createElement(y.pVO,null)):null}}class X extends l.Component{OnJumpBackward(){this.props.video.JumpTime(-15)}OnJumpForward(){this.props.video.JumpTime(G)}render(){let e=this.props.video,t=e.CanSeek();return l.createElement("div",{className:"videoControlsButtons PlayControls"},l.createElement($,{video:e}),t&&l.createElement("div",{className:"videoControlButton videoControlJump controlFlip",onClick:this.OnJumpBackward},l.createElement(y.P9w,{bHidePostArrow:!0,bHidePreArrow:!0,bShowJumpAheadBox:!0,bFlipHorizontal:!0}),l.createElement("div",{className:"jumpAheadValue"},G)),l.createElement(q,{video:e}),t&&l.createElement("div",{className:"videoControlButton videoControlJump",onClick:this.OnJumpForward},l.createElement(y.P9w,{bHidePostArrow:!0,bHidePreArrow:!0,bShowJumpAheadBox:!0,bFlipHorizontal:!1}),l.createElement("div",{className:"jumpAheadValue"},G)),t&&l.createElement(K,{video:e}))}}(0,a.gn)([F.ak],X.prototype,"OnJumpBackward",null),(0,a.gn)([F.ak],X.prototype,"OnJumpForward",null);const H=(0,o.Pi)((e=>{if(e.video.IsBroadcastClip()||e.video.IsBroadcastVOD())return null;let t=e.video.IsOnLiveEdge();return l.createElement("div",{className:"videoControlsButtons GoLive"},l.createElement("div",{className:"videoControlButton videoControlGoLive"+(t?" isLiveEdge":""),onClick:t?null:t=>{e.video.JumpToLiveEdge()}},l.createElement(y.P9w,{bHidePreArrow:!0,bHidePostArrow:!0,bFlipHorizontal:!1}),l.createElement("div",{className:"jumpGoLive"},(0,M.Xx)(t?"#DASHPlayerControls_IsLive":"#DASHPlayerControls_GoLive"))))}));let q=class extends l.Component{OnTogglePlayPause(){this.props.video.TogglePlayPause()}render(){let e=this.props.video.IsPaused();return l.createElement("div",{className:"videoControlButton buttonPlayPause",onClick:this.OnTogglePlayPause},e?l.createElement(y.shV,null):l.createElement(y.dzL,null))}};(0,a.gn)([F.ak],q.prototype,"OnTogglePlayPause",null),q=(0,a.gn)([o.Pi],q);let $=class extends l.Component{get has_previous_marker(){return void 0!==this.GetPreviousMarkerTime()}GetPreviousMarkerTime(){if(!this.props.video.has_markers)return;let e=this.props.video.GetTimelineMarkers(),t=this.props.video.GetPlaybackTime();for(let r=e.length-1;r>=0;r--)if(!(e[r].nTime>=t))return e[r].nTime}OnJumpToPreviousMarkerClicked(e){let t=this.GetPreviousMarkerTime();void 0!==t&&this.props.video.Seek(t-.2)}render(){let e=this.props.video.BHasMarkersOrSegments();return l.createElement("div",{className:"videoControlButton jumpToMarker controlFlip"+(e?"":" noMarkersOrSegments")+(this.has_previous_marker?"":" noMarkersInDirection"),onClick:this.OnJumpToPreviousMarkerClicked},l.createElement(y.P9w,{bHidePostArrow:!0,bFlipHorizontal:!0}))}};(0,a.gn)([n.Fl],$.prototype,"has_previous_marker",null),(0,a.gn)([F.ak],$.prototype,"OnJumpToPreviousMarkerClicked",null),$=(0,a.gn)([o.Pi],$);let K=class extends l.Component{get has_next_marker(){return void 0!==this.GetNextMarkerTime()}GetNextMarkerTime(){if(!this.props.video.has_markers)return;let e=this.props.video.GetTimelineMarkers(),t=this.props.video.GetPlaybackTime();for(let r=0;r<e.length;r++)if(!(e[r].nTime<=t))return e[r].nTime}OnJumpToNextMarkerClicked(e){let t=this.GetNextMarkerTime();void 0!==t&&this.props.video.Seek(t)}render(){let e=this.props.video.BHasMarkersOrSegments();return l.createElement("div",{className:"videoControlButton jumpToMarker"+(e?"":" noMarkersOrSegments")+(this.has_next_marker?"":" noMarkersInDirection"),onClick:this.OnJumpToNextMarkerClicked},l.createElement(y.P9w,{bHidePostArrow:!0,bFlipHorizontal:!1}))}};(0,a.gn)([n.Fl],K.prototype,"has_next_marker",null),(0,a.gn)([F.ak],K.prototype,"OnJumpToNextMarkerClicked",null),K=(0,a.gn)([o.Pi],K);class Z extends l.Component{constructor(e){super(e),this.m_elSubtitlesButton=l.createRef(),this.m_elSubtitlesPanel=l.createRef(),this.state={bSettingsOpen:!1,bSubtitlesOpen:!1}}OnVideoControlClick(e){this.setState({bSettingsOpen:!this.state.bSettingsOpen}),this.m_SettingsButtonPos=[this.m_elSettingsButton.offsetLeft,this.m_elSettingsButton.offsetTop],this.m_elClickListener=e.currentTarget.ownerDocument.defaultView,this.m_elClickListener.addEventListener("mouseup",this.OnMouseUp,!0)}OnSubtitlesClick(e){this.setState({bSubtitlesOpen:!this.state.bSubtitlesOpen}),this.m_SubtitlesButtonPos=[this.m_elSubtitlesButton.current.offsetLeft,this.m_elSubtitlesButton.current.offsetTop],this.m_elClickListener=e.currentTarget.ownerDocument.defaultView,this.m_elClickListener.addEventListener("mouseup",this.OnMouseUp,!0)}OnMouseUp(e){this.m_elClickListener.removeEventListener("mouseup",this.OnMouseUp,!0),(0,w.ni)(this.m_elSettingsPanel,e.target)||this.setState({bSettingsOpen:!1}),(0,w.ni)(this.m_elSubtitlesPanel.current,e.target)||this.setState({bSubtitlesOpen:!1})}bindSettingsButton(e){this.m_elSettingsButton=e}BindSettingsPanel(e){this.m_elSettingsPanel=e}OnShowStats(e){this.props.onShowStats(e),this.setState({bSettingsOpen:!this.state.bSettingsOpen})}render(){let e=!1,t=!1;const{video:r,actions:a}=this.props;let i,s,n=0,o=l.createElement("div",{key:"separator",className:"settingsMenuSeparator"});if(this.state.bSettingsOpen&&(e=!0,i=this.props.video.GetVideoRepresentations(),s=i.map((e=>l.createElement(p.Td,{key:e.id,onSelected:()=>{this.props.video.SetVideoRepresentation(e),this.setState({bSettingsOpen:!this.state.bSettingsOpen})},bChecked:e.selected},e.displayName))),s.push(o),s.push(l.createElement(p.Zo,{key:"statsToggle",onSelected:this.OnShowStats},(0,M.Xx)("#Broadcast_VideoContext_ToggleStats"),"\t")),n=0-(21*s.length+32)),this.state.bSubtitlesOpen){t=!0,s=[],s.push(l.createElement(p.Td,{key:"none",onSelected:()=>{this.props.video.SetSubtitles(null),this.setState({bSubtitlesOpen:!this.state.bSubtitlesOpen})},className:"NoSubtitles",bChecked:!1},(0,M.Xx)("#Broadcast_None")));for(let e=0;e<this.props.video.ListSubtitles().length;e++){const t=this.props.video.ListSubtitles()[e];s.push(l.createElement(p.Td,{key:t.language,onSelected:()=>{this.props.video.SetSubtitles(t.language),this.setState({bSubtitlesOpen:!this.state.bSubtitlesOpen})},bChecked:"showing"===t.mode},t.label))}n=-352}let c=this.props.video.GetSubtitles()||!1;return l.createElement("div",{className:"STV_BroadcastSettings"},this.props.video.ListSubtitles().length?l.createElement("div",{className:"videoControlButton"+(c?" ClosedCaptionsActive":""),onClick:this.OnSubtitlesClick,ref:this.m_elSubtitlesButton},l.createElement(y.Vgm,null)):null,l.createElement("div",{className:"videoControlButton VideoSettings "+(e?" VideoSettingsOpen":""),onClick:this.OnVideoControlClick,ref:this.bindSettingsButton},l.createElement(y.Zrf,null)),l.createElement(J,{video:r}),a&&a.map((e=>l.createElement("div",{key:e.key,className:"videoControlButton videoControlFitWidth"},e))),e&&l.createElement("div",{ref:this.BindSettingsPanel,className:"STV_BroadcastSettingsPanel",style:{left:this.m_SettingsButtonPos[0],top:this.m_SettingsButtonPos[1],marginTop:n}},l.createElement("div",{className:"STV_BroadcastSettingsMenuItems"},s)),t&&l.createElement("div",{ref:this.m_elSubtitlesPanel,className:"STV_BroadcastSettingsPanel SubtitlesMenu",style:{maxHeight:"320px",left:this.m_SubtitlesButtonPos[0],top:this.m_SubtitlesButtonPos[1],marginTop:n}},l.createElement("div",{className:"STV_BroadcastSettingsMenuItems"},s)))}}(0,a.gn)([F.ak],Z.prototype,"OnVideoControlClick",null),(0,a.gn)([F.ak],Z.prototype,"OnSubtitlesClick",null),(0,a.gn)([F.ak],Z.prototype,"OnMouseUp",null),(0,a.gn)([F.ak],Z.prototype,"bindSettingsButton",null),(0,a.gn)([F.ak],Z.prototype,"BindSettingsPanel",null),(0,a.gn)([F.ak],Z.prototype,"OnShowStats",null);let J=class extends l.Component{constructor(){super(...arguments),this.k_nHideSliderTimeout=1500,this.m_bShowSlider=true,this.m_schHideSlider=new v.Ar,this.m_bChildDragging=!1,this.m_bMouseOver=!1}componentWillUnmount(){this.m_schHideSlider.Cancel()}ToggleMute(){let e=this.props.video,t=e.IsMuted();e.SetMute(!t),e.GetVolume()<.01&&e.SetVolume(.5)}OnMouseEnter(e){this.m_bShowSlider=!0,this.m_bMouseOver=!0,this.m_schHideSlider.Cancel()}OnMouseLeave(e){this.m_bMouseOver=!1,this.ScheduleHide()}OnChildDrag(e){this.m_bChildDragging=e,this.ScheduleHide()}ScheduleHide(){this.m_bMouseOver||this.m_bChildDragging||this.m_schHideSlider.Schedule(this.k_nHideSliderTimeout,(()=>this.m_bShowSlider=true))}render(){let e=this.props.video,t=e.IsMuted(),r=100*e.GetVolume(),a="videoControlButton";r>65?a+=" HighestVolume":r>45?a+=" HighVolume":r<46&&r>24?a+=" MedVolume":r<25&&(a+=" LowVolume");let i="BroadcastVolumeControl";return this.m_bShowSlider&&(i+=" ShowVolumeSlider"),t&&(i+=" muted"),l.createElement("div",{className:i,onMouseEnter:this.OnMouseEnter,onMouseLeave:this.OnMouseLeave},l.createElement("div",{className:"BroadcastVolumeControl_FixedLayout"},l.createElement("div",{className:a,onClick:this.ToggleMute},l.createElement(y.ffh,null)),l.createElement(Y,{video:e,onDrag:this.OnChildDrag})))}};(0,a.gn)([n.LO],J.prototype,"m_bShowSlider",void 0),(0,a.gn)([F.ak],J.prototype,"ToggleMute",null),(0,a.gn)([F.ak],J.prototype,"OnMouseEnter",null),(0,a.gn)([F.ak],J.prototype,"OnMouseLeave",null),(0,a.gn)([F.ak],J.prototype,"OnChildDrag",null),J=(0,a.gn)([o.Pi],J);let Y=class extends l.Component{constructor(){super(...arguments),this.m_elSlider=null,this.m_nVolumeStartOfDrag=0}OnMouseDown(e){let t=e.currentTarget;this.m_elSlider=t,this.m_nVolumeStartOfDrag=this.props.video.GetVolume(),this.SetVolumeWithCoord(t,e.clientX),t.ownerDocument.defaultView.addEventListener("mousemove",this.OnMouseMove),t.ownerDocument.defaultView.addEventListener("mouseup",this.OnMouseUp),this.props.onDrag(!0)}OnMouseMove(e){this.m_elSlider&&this.SetVolumeWithCoord(this.m_elSlider,e.clientX)}OnMouseUp(e){if(!this.m_elSlider)return;this.SetVolumeWithCoord(this.m_elSlider,e.clientX);let t=this.props.video;t.IsMuted()&&t.SetVolume(this.m_nVolumeStartOfDrag),this.m_elSlider.ownerDocument.defaultView.removeEventListener("mousemove",this.OnMouseMove),this.m_elSlider.ownerDocument.defaultView.removeEventListener("mouseup",this.OnMouseUp),this.m_nVolumeStartOfDrag=0,this.m_elSlider=null,this.props.onDrag(!1)}SetVolumeWithCoord(e,t){let r=e.getBoundingClientRect(),a=T.r4(t,r.left,r.right,0,1),i=T.Lh(a,0,1),s=this.props.video;s.SetMute(a<.01),s.SetVolume(i)}render(){let e=this.props.video,t=100*e.GetVolume();e.IsMuted()&&(t=0);let r={left:`${t}%`},a={width:`${t}%`};return l.createElement("div",{className:"BroadcastVolumeSlider",onMouseDown:this.OnMouseDown},l.createElement("div",{className:"BroadcastVolumeSlider_Track"}),l.createElement("div",{className:"BroadcastVolumeSlider_Fill",style:a}),l.createElement("div",{className:"BroadcastVolumeSlider_Thumb",style:r}))}};(0,a.gn)([F.ak],Y.prototype,"OnMouseDown",null),(0,a.gn)([F.ak],Y.prototype,"OnMouseMove",null),(0,a.gn)([F.ak],Y.prototype,"OnMouseUp",null),(0,a.gn)([n.aD],Y.prototype,"SetVolumeWithCoord",null),Y=(0,a.gn)([o.Pi],Y);const Q=e=>l.createElement("div",{className:"timelineMarker",title:e.label,style:{left:e.pos+"%"},onMouseEnter:()=>e.onMouseEnter(e.pos),onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown?e.onMouseDown:void 0},l.createElement("div",{className:"timelineMarkerIcon"},l.createElement(y.$06,null)));function ee(e){let t=e.startPos,r=e.endPos,a="",i=1;return t<0&&(i=(r-t)/10,t=0,a=" hideFront"),l.createElement("div",{className:"STV_timelineSegment"+a,style:{left:t+"%",width:r-t+"%",opacity:i},onClick:e.onClick},l.createElement("div",{className:"STV_timelineSegmentFrontFill",style:{borderColor:"rgb("+e.color+")"}}),l.createElement("div",{className:"STV_timelineSegmentLabel",style:{color:"rgb("+e.color+")"}},e.label),l.createElement("div",{className:"STV_timelineSegmentBackFill",style:{borderColor:"rgb("+e.color+")"}}))}let te=class extends l.Component{constructor(e){super(e),this.m_elSlider=l.createRef(),this.state={nGrabberMouseDownTime:0,bGrabberMouseDown:!1,nHoverValue:void 0,hoverX:0,bStartMouseDown:!1,bEndMouseDown:!1,thumbnailURL:""}}OnMouseDown(e,t){if(this.m_elSlider){e.persist(),this.m_rectSlider=this.m_elSlider.current&&this.m_elSlider.current.getBoundingClientRect();let r={};"start"===t?(r={bStartMouseDown:!0},e.stopPropagation()):"end"===t?(r={bEndMouseDown:!0},e.stopPropagation()):r={bGrabberMouseDown:!0},this.setState(r,(()=>this.AdjustSliderForClientX(e.clientX))),this.m_elSlider.current.ownerDocument.defaultView.addEventListener("mousemove",this.OnMouseMove),this.m_elSlider.current.ownerDocument.defaultView.addEventListener("mouseup",this.OnMouseUp)}}OnMouseMove(e){this.AdjustSliderForClientX(e.clientX)}OnMouseUp(e){this.state.bStartMouseDown?this.setState({bStartMouseDown:!1}):this.state.bEndMouseDown?this.setState({bEndMouseDown:!1}):(this.props.video.Seek(this.state.nGrabberMouseDownTime),this.setState({bGrabberMouseDown:!1,nGrabberMouseDownTime:0})),this.m_elSlider.current&&(this.m_elSlider.current.ownerDocument.defaultView.removeEventListener("mousemove",this.OnMouseMove),this.m_elSlider.current.ownerDocument.defaultView.removeEventListener("mouseup",this.OnMouseUp))}OnKeyDown(e){37==e.keyCode?(this.props.video.JumpTime(-15),e.preventDefault()):39==e.keyCode&&(this.props.video.JumpTime(15),e.preventDefault())}AdjustSliderForClientX(e){let t=this.props.video,r=t.GetTimelineStartPos(),a=t.GetTimelineStartPos()+t.GetTimelineDuration(),i=t.GetTimeAtMousePosition(e,this.m_rectSlider,r,a);if(this.state.bStartMouseDown){const e=T.Lh(i,r,t.m_editorEndTime-5);t.m_editorStartTime=e}else if(this.state.bEndMouseDown){const e=T.Lh(i,t.m_editorStartTime+5,a);t.m_editorEndTime=e}else i!=this.state.nGrabberMouseDownTime&&this.setState({nGrabberMouseDownTime:i})}OnMouseHoverMove(e){this.AdjustHoverForClientX(e.clientX)}OnMouseHoverLeave(e){this.setState({hoverX:0})}AdjustHoverForClientX(e){let t=this.props.video,r=t.GetTimelineStartPos(),a=t.GetTimelineStartPos()+t.GetTimelineDuration();this.m_rectSlider=this.m_elSlider.current&&this.m_elSlider.current.getBoundingClientRect();t.GetTimeAtMousePosition(e,this.m_rectSlider,r,a)}OnSegmentClick(e){this.props.video.Seek(e)}OnMarkerMouseEnter(e){this.setState({nHoverValue:e})}OnMarkerMouseLeave(){this.setState({nHoverValue:void 0})}render(){let e=this.props.video,t=this.state.bGrabberMouseDown,r=e.GetPercentOffsetFromTime(this.state.nGrabberMouseDownTime,u.QO.Timeline),a=e.GetPercentOffsetFromTime(e.GetPlaybackTime(),u.QO.Timeline),i=e.GetPercentOffsetFromTime(e.GetVideoAvailableStartTime(),u.QO.Timeline);i<.05&&(i=0);let s=T.Lh(r,0,100).toFixed(1)+"%",n=T.Lh(a,0,100).toFixed(1)+"%",o=T.Lh(i,0,100).toFixed(1)+"%",c={},d={},m={},h={};t?(h.left=s,c.width=s,d.width=n,m.width=o):(h.left=n,d.width=n,m.width=o);let _=(0,O.zB)(e.GetPlaybackTime()),p=(0,O.zB)(this.state.nHoverValue),b="STV_timelineContainer";this.state.bGrabberMouseDown&&(b+=" grabberDown"),e.IsTimelineMapActive()&&(b+=" minimapActive");let g="";r=t?r:a,r>100?g=" grabberOffScreenRight grabberOffscreen":r<0&&(g=" grabberOffScreenLeft grabberOffscreen");let B=[];e.GetTimelineMarkers().forEach(((t,r)=>{let a=e.GetPercentOffsetFromTime(t.nTime,u.QO.Timeline);a<0||a>100||B.push(l.createElement(Q,{key:r,pos:a,label:t.strTemplateName,onMouseEnter:this.OnMarkerMouseEnter,onMouseLeave:this.OnMarkerMouseLeave}))}));let S=[];e.GetTimelineSegments().forEach(((t,r)=>{let a=e.GetPercentOffsetFromTime(t.nTimeStart,u.QO.Timeline);if(a>100)return;let i=e.GetPercentOffsetFromTime(t.nTimeEnd,u.QO.Timeline);i<0||S.push(l.createElement(ee,{key:r,startPos:a,endPos:i,label:t.strTemplateName,color:t.color,onClick:e=>this.OnSegmentClick(t.nTimeStart)}))}));const f=e.GetPercentOffsetFromTime(e.m_editorStartTime,u.QO.Timeline),v=e.GetPercentOffsetFromTime(e.m_editorEndTime,u.QO.Timeline),C=this.props.bIncludeClipEditor?[l.createElement(Q,{key:"start",pos:f,label:(0,M.Xx)("#DASHPlayerControls_Start"),onMouseEnter:this.OnMarkerMouseEnter,onMouseLeave:this.OnMarkerMouseLeave,onMouseDown:e=>this.OnMouseDown(e,"start")}),l.createElement(Q,{key:"end",pos:v,label:(0,M.Xx)("#DASHPlayerControls_End"),onMouseEnter:this.OnMarkerMouseEnter,onMouseLeave:this.OnMarkerMouseLeave,onMouseDown:e=>this.OnMouseDown(e,"end")})]:[];return l.createElement("div",{className:"videoTimelineMain",tabIndex:0,onKeyDown:this.OnKeyDown},l.createElement("div",{className:b},l.createElement("div",{className:"DialogLabel"},_),l.createElement("div",{className:"STV_timelineSegmentsContainer"},S),l.createElement("div",{onMouseDown:this.OnMouseDown,onMouseMove:this.OnMouseHoverMove,onMouseLeave:this.OnMouseHoverLeave,ref:this.m_elSlider},l.createElement("div",{className:"VideoTimelineSlider"},l.createElement("div",{className:"STV_timelineValue",style:c}),l.createElement("div",{className:"STV_timelineGhostValue",style:d}),l.createElement("div",{className:"STV_timelineNoVideo",style:m}),B,C,Boolean(this.state.hoverX)&&l.createElement("div",{key:"grabbertime",style:{position:"absolute",left:this.state.hoverX-75,bottom:"30px"}},l.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center"}},this.state.thumbnailURL&&l.createElement("img",{style:{width:"150px"},src:this.state.thumbnailURL}),l.createElement("span",{className:"STV_timelineGrabberValue",style:{position:"absolute",bottom:"4px"}},p))),l.createElement("div",{className:"STV_timelineGrabber_Wrapper",style:h},l.createElement("div",{className:"STV_timelineGrabber"+g},l.createElement("div",{className:"STV_timelineGrabberArrow"},l.createElement(y.tEX,null))))))))}};(0,a.gn)([F.ak],te.prototype,"OnMouseDown",null),(0,a.gn)([F.ak],te.prototype,"OnMouseMove",null),(0,a.gn)([F.ak],te.prototype,"OnMouseUp",null),(0,a.gn)([F.ak],te.prototype,"OnKeyDown",null),(0,a.gn)([F.ak],te.prototype,"OnMouseHoverMove",null),(0,a.gn)([F.ak],te.prototype,"OnMouseHoverLeave",null),(0,a.gn)([F.ak],te.prototype,"AdjustHoverForClientX",null),(0,a.gn)([F.ak],te.prototype,"OnSegmentClick",null),(0,a.gn)([F.ak],te.prototype,"OnMarkerMouseEnter",null),(0,a.gn)([F.ak],te.prototype,"OnMarkerMouseLeave",null),te=(0,a.gn)([o.Pi],te);let re=class extends l.Component{constructor(){super(...arguments),this.state={info:null}}static getDerivedStateFromProps(e,t){if((!t.info||t.info.m_steamIDBroadcast!==e.steamID)&&(t.info&&(u.c9.StopInfo(t.info),t.info=null),e.steamID)){return{info:u.c9.StartInfo(e.steamID)}}return null}componentWillUnmount(){this.state.info&&u.c9.StopInfo(this.state.info)}RenderStreamSwitcher(){const e=this.props.steamID;return D.rr.stream[e]?l.createElement(ae,{value:e,options:D.rr.stream,onChange:this.props.onLocalStreamChange}):null}render(){let{info:e}=this.state;if(!e)return null;let t="";e.m_nViewerCount&&(t=(0,E.AV)(e.m_nViewerCount));let r=D.rr.bValid&&D.rr.stream&&D.rr.stream[e.m_steamIDBroadcast],a=!this.props.bHideThumbnail&&this.props.bVerticalBroadcastChat&&(parseInt(e.m_strAppId)>0||r);const i=!this.props.bHideThumbnail&&this.props.bVerticalBroadcastChat&&r&&D.rr.gidEvent;return l.createElement("div",{className:"BroadcastDetails"},!this.props.bHideThumbnail&&l.createElement(b.m,{className:"broadcastDetailsThumbBlur",src:e.m_strThumbnailUrl,draggable:!1,duration:2500}),l.createElement("div",{className:"BroadcastDetailsHeader"},e&&e.m_strAppTitle&&l.createElement("div",{className:"displayColumn"},l.createElement("div",{className:"Info"},l.createElement("span",{className:"AppTitle"},e.m_strAppTitle),e.m_strTitle&&l.createElement("span",{className:"BroadcastTitle"}," - ",e.m_strTitle),this.props.onLocalStreamChange&&this.RenderStreamSwitcher()),t&&l.createElement("div",{className:"BroadcastDetailsHeader_ViewerCount"},l.createElement(y.lsH,null),(0,M.kb)("#Broadcast_ViewerCount",t))),r&&this.props.onOpenLinkInNewWindow&&l.createElement("div",{className:"Actions"},l.createElement("div",{onClick:e=>this.props.onOpenLinkInNewWindow(e,D.rr.link),className:"BroadcastLink"},D.rr.linkName))),i&&l.createElement(B.i,{gidEvent:D.rr.gidEvent}),a&&l.createElement(g.ju,{id:D.rr.bValid&&D.rr.stream&&D.rr.stream[e.m_steamIDBroadcast]?D.rr.appID:parseInt(e.m_strAppId),type:"game"}))}};re=(0,a.gn)([o.Pi],re);class ae extends l.Component{showContextMenu(e){const{options:t,value:r,onChange:a}=this.props,i=Object.keys(t).map((e=>l.createElement(p.Td,{key:e,onSelected:()=>a(e),bChecked:e===r},(0,M.Xx)(t[e]))));(0,d.yV)(l.createElement(p.xV,null,i),e)}render(){const{value:e,options:t}=this.props,r=t[e];return l.createElement("div",{className:"BroadcastLanguage",onClick:this.showContextMenu},l.createElement("span",null," - ",(0,M.Xx)(r)),l.createElement("div",{className:"ContextMenuButton"},l.createElement(y.$gZ,null)))}}(0,a.gn)([F.ak],ae.prototype,"showContextMenu",null);let ie=class extends l.Component{constructor(e){super(e),this.state={sizableRegion:[]}}AddLinkRegion(){return(0,a.mG)(this,void 0,void 0,(function*(){let e=this.state.sizableRegion.length;this.state.sizableRegion.push({xPosPct:2.5+e,yPosPct:2.5+e,widthPct:20,heightPct:15}),this.setState({sizableRegion:this.state.sizableRegion},(()=>this.OnSaveRegions()))}))}componentDidUpdate(e){0==e.linkRegions.length&&this.props.linkRegions.forEach(((e,t)=>{this.LoadLinkRegion(e,t)}))}LoadLinkRegion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){this.state.sizableRegion.length;this.state.sizableRegion.push({xPosPct:e.left,yPosPct:e.top,widthPct:e.width,heightPct:e.height,link_url:e.url,link_description:e.link_description,link_index:e.link_index}),yield this.setState({sizableRegion:this.state.sizableRegion})}))}OnSaveRegions(){let e;e={links:[]};for(let t=0;t<this.state.sizableRegion.length;t++){let r;r={left:Math.floor(100*this.state.sizableRegion[t].xPosPct),top:Math.floor(100*this.state.sizableRegion[t].yPosPct),width:Math.floor(100*this.state.sizableRegion[t].widthPct),height:Math.floor(100*this.state.sizableRegion[t].heightPct),url:this.state.sizableRegion[t].link_url,link_description:this.state.sizableRegion[t].link_description,link_index:t},e.links.push(r)}this.props.onSaveLinkRegions(e)}DeleteRegion(e){return(0,a.mG)(this,void 0,void 0,(function*(){this.state.sizableRegion.splice(e,1),console.log("keys: ",this.state.sizableRegion.keys),this.setState({sizableRegion:this.state.sizableRegion},(()=>this.OnSaveRegions()))}))}UpdatePanel(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){this.state.sizableRegion[e]=t,this.setState({sizableRegion:this.state.sizableRegion},(()=>this.OnSaveRegions()))}))}render(){return l.createElement("div",{className:"LinkOverlayContainer"},l.createElement("div",{className:"LinkOverlayValidRegion"},!this.props.editMode&&this.props.linkRegions?this.props.linkRegions.map((e=>{const t=(0,c.Ah)(e.url);return l.createElement(f.ns,{key:e.link_index,href:e.url,bForceExternal:t,bUseLinkFilter:t},l.createElement("div",{className:"LinkRegion",style:{left:e.left+"%",top:e.top+"%",width:e.width+"%",height:e.height+"%"}},l.createElement("div",{className:"LinkRegionText"},e.link_description," ")))})):null,this.props.editMode&&this.state.sizableRegion.map(((e,t)=>l.createElement(S.l,{key:100*t+e.xPosPct,index:t,deleteFn:this.DeleteRegion,updateFn:this.UpdatePanel,xPosPct:e.xPosPct,yPosPct:e.yPosPct,widthPct:e.widthPct,heightPct:e.heightPct,link_url:e.link_url,link_description:e.link_description}))),this.props.editMode&&l.createElement("div",{className:"AddLinkRegion",onClick:this.AddLinkRegion},(0,M.Xx)("#SteamTV_AddLinkRegion"))),l.createElement("div",{className:"LinkOverlayInvalidRegion"},l.createElement("div",null,(0,M.Xx)("#SteamTV_LinkRegionReserved"))))}};(0,a.gn)([F.ak],ie.prototype,"AddLinkRegion",null),(0,a.gn)([F.ak],ie.prototype,"LoadLinkRegion",null),(0,a.gn)([F.ak],ie.prototype,"OnSaveRegions",null),(0,a.gn)([F.ak],ie.prototype,"DeleteRegion",null),(0,a.gn)([F.ak],ie.prototype,"UpdatePanel",null),ie=(0,a.gn)([o.Pi],ie)},38785:(e,t,r)=>{"use strict";r.d(t,{nf:()=>n});var a=r(36116),i=(r(67294),r(38440)),s=(r(75334),r(67698),r(78869));function n(e){a.OT.BIsInitialized()||a.OT.Initialize(new i.J(s.De.WEBAPI_BASE_URL,e))}},88273:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var a=r(70655),i=r(67294),s=r(7952),n=(r(96794),r(29323)),o=r(22188),l=r(41554),c=r(27194),d=r(79571),m=r(31535),u=(r(33384),r(69144)),h=r(89866),_=r.n(h),p=(r(28912),r(62170)),b=r(45520);let g=class extends i.Component{constructor(e){super(e),this.m_playerRef=i.createRef(),this.m_hRegisterForGameActionStart=null,this.m_hRegisterForGameActionStart=SteamClient.Apps.RegisterForGameActionStart(this.onGameActionStart),SteamClient.Apps.GetGameActionForApp(this.props.overview.GetGameID(),this.onGameActionStart),this.state={broadcast:null,bPlaying:!1}}componentDidMount(){this.RefreshAndSelectBroadcast()}RefreshAndSelectBroadcast(){this.m_dispose||(this.m_dispose=(0,o.EH)((()=>{let e=l.m.GetBroadcastList(this.props.overview.appid).broadcasts||[],t=this.state.broadcast;t&&(t=e.find((e=>e.unAccountId==t.unAccountId))),!t&&e.length>0&&(t=e[0]),this.state.broadcast!=t&&this.setState({broadcast:t})})))}componentDidUpdate(e){e.overview.appid!=this.props.overview.appid&&(this.setState({broadcast:null,bPlaying:!1}),this.m_dispose&&(this.m_dispose(),this.m_dispose=null),this.RefreshAndSelectBroadcast())}componentWillUnmount(){this.m_hRegisterForGameActionStart&&this.m_hRegisterForGameActionStart.unregister(),this.m_dispose&&(this.m_dispose(),this.m_dispose=null)}onGameActionStart(e,t,r){t==this.props.overview.GetGameID()&&0!=e&&"LaunchApp"==r&&this.m_playerRef.current&&this.m_playerRef.current.StopPlaybackTillUserInput()}GetBroadcastURL(e){return`steam://openurl_external/${u.de.GetCommunityURL()}broadcast/watch/`+e}OnClickPlay(){this.setState({bPlaying:!0})}render(){let e=this.state.broadcast;if(!e)return null;let t=d.K.InitFromAccountID(e.unAccountId),r=this.state.bPlaying,a="GameDetailsPlayer";return this.props.isTheaterMode&&(a+=" TheaterMode"),i.createElement("div",{className:_().BroadcastBox},!r&&i.createElement(S,{img:e.strThumbnailURL,onClick:this.OnClickPlay}),r&&i.createElement("div",{className:_().BroadcastPlayer},i.createElement(p.default,{ref:this.m_playerRef,steamIDBroadcast:t.ConvertTo64BitString(),watchLocation:6,onTheaterMode:this.props.onTheaterMode,bStartMuted:!1,bStartPaused:!1,classes:a})),!this.props.isTheaterMode&&i.createElement("a",{href:this.GetBroadcastURL(t.ConvertTo64BitString()),className:_().ViewBroadcastOnWeb},(0,c.Xx)("#AppDetails_Broadcast_ViewOnWeb")))}};(0,a.gn)([m.ak],g.prototype,"onGameActionStart",null),(0,a.gn)([m.ak],g.prototype,"GetBroadcastURL",null),(0,a.gn)([m.ak],g.prototype,"OnClickPlay",null),g=(0,a.gn)([n.Pi],g);const B=g;function S(e){let t=(0,b.Z)("BroadcastVideoUserInputNeeded",_().PlayButtonWrapper);return i.createElement("div",{className:_().BroadcastThumbnail,onClick:e.onClick},i.createElement("img",{src:e.img}),i.createElement("div",{className:t},i.createElement(s.shV,null),i.createElement("span",null,(0,c.Xx)("#DASHPlayerControls_ClickToPlay"))))}}}]);
//# sourceMappingURL=broadcast.js.map